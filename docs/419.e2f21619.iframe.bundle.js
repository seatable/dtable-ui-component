(self.webpackChunkdtable_ui_component=self.webpackChunkdtable_ui_component||[]).push([[419],{"./node_modules/@babel/runtime/helpers/esm/defineProperty.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>_defineProperty1});var _toPropertyKey_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js");function _defineProperty1(obj,key,value){return(key=(0,_toPropertyKey_js__WEBPACK_IMPORTED_MODULE_0__.A)(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}},"./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>_toPropertyKey});var esm_typeof=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/typeof.js");function _toPrimitive(input,hint){if("object"!==(0,esm_typeof.A)(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==(0,esm_typeof.A)(res))return res;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}function _toPropertyKey(arg){var key=_toPrimitive(arg,"string");return"symbol"===(0,esm_typeof.A)(key)?key:String(key)}},"./node_modules/@babel/runtime/helpers/esm/typeof.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function _typeof(o){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(o)}__webpack_require__.d(__webpack_exports__,{A:()=>_typeof})},"./node_modules/dayjs/dayjs.min.js":function(module){var e;e=function(){"use strict";var r="millisecond",i="second",s="minute",u="hour",o="week",f="month",h="quarter",c="year",d="date",$="Invalid Date",l=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},D="en",v={};v[D]={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")};var p=function(t){return t instanceof _},S=function(t,e,n){var r;if(!t)return D;if("string"==typeof t)v[t]&&(r=t),e&&(v[t]=e,r=t);else{var i=t.name;v[i]=t,r=i}return!n&&r&&(D=r),r||!n&&D},w=function(t,e){if(p(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new _(n)},O={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e);return(e<=0?"+":"-")+m(Math.floor(n/60),2,"0")+":"+m(n%60,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,f),s=n-i<0,u=e.clone().add(r+(s?-1:1),f);return+(-(r+(n-i)/(s?i-u:u-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return({M:f,y:c,w:o,d:"day",D:d,h:u,m:s,s:i,ms:r,Q:h})[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}};O.l=S,O.i=p,O.w=function(t,e){return w(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var _=function(){function M(t){this.$L=S(t.locale,null,!0),this.parse(t)}var m=M.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(O.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(l);if(r){var i=r[2]-1||0,s=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return O},m.isValid=function(){return this.$d.toString()!==$},m.isSame=function(t,e){var n=w(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return w(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<w(t)},m.$g=function(t,e,n){return O.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,r=!!O.u(e)||e,h=O.p(t),$=function(t,e){var i=O.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf("day")},l=function(t,e){return O.w(n.toDate()[t].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},y=this.$W,M=this.$M,m=this.$D,g="set"+(this.$u?"UTC":"");switch(h){case c:return r?$(1,0):$(31,11);case f:return r?$(1,M):$(0,M+1);case o:var D=this.$locale().weekStart||0,v=(y<D?y+7:y)-D;return $(r?m-v:m+(6-v),M);case"day":case d:return l(g+"Hours",0);case u:return l(g+"Minutes",1);case s:return l(g+"Seconds",2);case i:return l(g+"Milliseconds",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var n,o=O.p(t),h="set"+(this.$u?"UTC":""),$=((n={}).day=h+"Date",n[d]=h+"Date",n[f]=h+"Month",n[c]=h+"FullYear",n[u]=h+"Hours",n[s]=h+"Minutes",n[i]=h+"Seconds",n[r]=h+"Milliseconds",n)[o],l="day"===o?this.$D+(e-this.$W):e;if(o===f||o===c){var y=this.clone().set(d,1);y.$d[$](l),y.init(),this.$d=y.set(d,Math.min(this.$D,y.daysInMonth())).$d}else $&&this.$d[$](l);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[O.p(t)]()},m.add=function(r,h){var d,$=this;r=Number(r);var l=O.p(h),y=function(t){var e=w($);return O.w(e.date(e.date()+Math.round(t*r)),$)};if(l===f)return this.set(f,this.$M+r);if(l===c)return this.set(c,this.$y+r);if("day"===l)return y(1);if(l===o)return y(7);var M=((d={})[s]=6e4,d[u]=36e5,d[i]=1e3,d)[l]||1,m=this.$d.getTime()+r*M;return O.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||$;var r=t||"YYYY-MM-DDTHH:mm:ssZ",i=O.z(this),s=this.$H,u=this.$m,a=this.$M,o=n.weekdays,f=n.months,h=function(t,n,i,s){return t&&(t[n]||t(e,r))||i[n].substr(0,s)},c=function(t){return O.s(s%12||12,t,"0")},d=n.meridiem||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r},l={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:O.s(a+1,2,"0"),MMM:h(n.monthsShort,a,f,3),MMMM:h(f,a),D:this.$D,DD:O.s(this.$D,2,"0"),d:String(this.$W),dd:h(n.weekdaysMin,this.$W,o,2),ddd:h(n.weekdaysShort,this.$W,o,3),dddd:o[this.$W],H:String(s),HH:O.s(s,2,"0"),h:c(1),hh:c(2),a:d(s,u,!0),A:d(s,u,!1),m:String(u),mm:O.s(u,2,"0"),s:String(this.$s),ss:O.s(this.$s,2,"0"),SSS:O.s(this.$ms,3,"0"),Z:i};return r.replace(y,function(t,e){return e||l[t]||i.replace(":","")})},m.utcOffset=function(){return-(15*Math.round(this.$d.getTimezoneOffset()/15))},m.diff=function(r,d,$){var l,y=O.p(d),M=w(r),m=(M.utcOffset()-this.utcOffset())*6e4,g=this-M,D=O.m(this,M);return D=((l={})[c]=D/12,l[f]=D,l[h]=D/3,l[o]=(g-m)/6048e5,l.day=(g-m)/864e5,l[u]=g/36e5,l[s]=g/6e4,l[i]=g/1e3,l)[y]||g,$?D:O.a(D)},m.daysInMonth=function(){return this.endOf(f).$D},m.$locale=function(){return v[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=S(t,e,!0);return r&&(n.$L=r),n},m.clone=function(){return O.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},M}(),b=_.prototype;return w.prototype=b,[["$ms",r],["$s",i],["$m",s],["$H",u],["$W","day"],["$M",f],["$y",c],["$D",d]].forEach(function(t){b[t[1]]=function(e){return this.$g(e,t[0],t[1])}}),w.extend=function(t,e){return t.$i||(t(e,_,w),t.$i=!0),w},w.locale=S,w.isDayjs=p,w.unix=function(t){return w(1e3*t)},w.en=v[D],w.Ls=v,w.p={},w},module.exports=e()},"./node_modules/dayjs/plugin/utc.js":function(module){var i;i=function(){"use strict";var t="minute",i=/[+-]\d\d(?::?\d\d)?/g,e=/([+-]|\d\d)/g;return function(s,f,n){var u=f.prototype;n.utc=function(t){var i={date:t,utc:!0,args:arguments};return new f(i)},u.utc=function(i){var e=n(this.toDate(),{locale:this.$L,utc:!0});return i?e.add(this.utcOffset(),t):e},u.local=function(){return n(this.toDate(),{locale:this.$L,utc:!1})};var o=u.parse;u.parse=function(t){t.utc&&(this.$u=!0),this.$utils().u(t.$offset)||(this.$offset=t.$offset),o.call(this,t)};var r=u.init;u.init=function(){if(this.$u){var t=this.$d;this.$y=t.getUTCFullYear(),this.$M=t.getUTCMonth(),this.$D=t.getUTCDate(),this.$W=t.getUTCDay(),this.$H=t.getUTCHours(),this.$m=t.getUTCMinutes(),this.$s=t.getUTCSeconds(),this.$ms=t.getUTCMilliseconds()}else r.call(this)};var a=u.utcOffset;u.utcOffset=function(s,f){var n=this.$utils().u;if(n(s))return this.$u?0:n(this.$offset)?a.call(this):this.$offset;if("string"==typeof s&&null===(s=function(t){void 0===t&&(t="");var s=t.match(i);if(!s)return null;var f=(""+s[0]).match(e)||["-",0,0],n=f[0],u=60*+f[1]+ +f[2];return 0===u?0:"+"===n?u:-u}(s)))return this;var u=16>=Math.abs(s)?60*s:s,o=this;if(f)return o.$offset=u,o.$u=0===s,o;if(0!==s){var r=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(o=this.local().add(u+r,t)).$offset=u,o.$x.$localOffset=r}else o=this.utc();return o};var h=u.format;u.format=function(t){var i=t||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return h.call(this,i)},u.valueOf=function(){var t=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||(new Date).getTimezoneOffset());return this.$d.valueOf()-6e4*t},u.isUTC=function(){return!!this.$u},u.toISOString=function(){return this.toDate().toISOString()},u.toString=function(){return this.toDate().toUTCString()};var l=u.toDate;u.toDate=function(t){return"s"===t&&this.$offset?n(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():l.call(this)};var c=u.diff;u.diff=function(t,i,e){if(t&&this.$u===t.$u)return c.call(this,t,i,e);var s=this.local(),f=n(t).local();return c.call(s,f,i,e)}}},module.exports=i()},"./node_modules/deep-copy/index.js":function(module){var factory;factory=function(){return function(target){if(/number|string|boolean/.test(typeof target))return target;if(target instanceof Date)return new Date(target.getTime());var copy=target instanceof Array?[]:{};return walk(target,copy),copy;function walk(target,copy){for(var key in target){var obj=target[key];if(obj instanceof Date){var value=new Date(obj.getTime());add(copy,key,value)}else if(obj instanceof Function){var value=obj;add(copy,key,value)}else if(obj instanceof Array){var value=[],last=add(copy,key,value);walk(obj,last)}else if(obj instanceof Object){var value={},last=add(copy,key,value);walk(obj,last)}else{var value=obj;add(copy,key,value)}}}};function add(copy,key,value){return copy instanceof Array?(copy.push(value),copy[copy.length-1]):copy instanceof Object?(copy[key]=value,copy[key]):void 0}},module.exports=factory()},"./node_modules/dtable-utils/es/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{vZe:()=>cell_type_CellType,qmW:()=>formula_FORMULA_RESULT_TYPE,Gin:()=>select_option_SELECT_OPTION_COLORS,nYS:()=>formatStringToNumber,u1Q:()=>date_getDateDisplayString,QC8:()=>duration_getDurationDisplayString,yjY:()=>cell_value_getFormulaDisplayString,YIM:()=>geolocation_getGeolocationDisplayString,HLJ:()=>number_getNumberDisplayString,yAg:()=>replaceNumberNotAllowInput});var _COLUMNS_ICON_CONFIG,_DURATION_DECIMAL_DIG,_DURATION_ZERO_DISPLA,_NOT_SUPPORT_EDIT_COL,_MULTIPLE_CELL_VALUE_,_SINGLE_CELL_VALUE_CO,_FILTER_TERM_MODIFIER,_FILTER_PREDICATE_SHO,_FILTER_COLUMN_OPTION,_FORMULA_COLUMN_TYPES,_DISPLAY_GROUP_DATE_G,_DISPLAY_GROUP_GEOLOC,cell_type_CellType={DEFAULT:"default",NUMBER:"number",TEXT:"text",CHECKBOX:"checkbox",DATE:"date",SINGLE_SELECT:"single-select",LONG_TEXT:"long-text",IMAGE:"image",FILE:"file",MULTIPLE_SELECT:"multiple-select",COLLABORATOR:"collaborator",LINK:"link",FORMULA:"formula",LINK_FORMULA:"link-formula",CREATOR:"creator",CTIME:"ctime",LAST_MODIFIER:"last-modifier",MTIME:"mtime",GEOLOCATION:"geolocation",AUTO_NUMBER:"auto-number",URL:"url",EMAIL:"email",DURATION:"duration",BUTTON:"button",RATE:"rate",DIGITAL_SIGN:"digital-sign",DEPARTMENT_SINGLE_SELECT:"department-single-select",BOOL:"bool",STRING:"string"},defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),COLUMNS_ICON_CONFIG=(_COLUMNS_ICON_CONFIG={},(0,defineProperty.default)(_COLUMNS_ICON_CONFIG,cell_type_CellType.DEFAULT,"dtable-font dtable-icon-single-line-text"),(0,defineProperty.default)(_COLUMNS_ICON_CONFIG,cell_type_CellType.TEXT,"dtable-font dtable-icon-single-line-text"),(0,defineProperty.default)(_COLUMNS_ICON_CONFIG,cell_type_CellType.NUMBER,"dtable-font dtable-icon-number"),(0,defineProperty.default)(_COLUMNS_ICON_CONFIG,cell_type_CellType.CHECKBOX,"dtable-font dtable-icon-check-square-solid"),(0,defineProperty.default)(_COLUMNS_ICON_CONFIG,cell_type_CellType.DATE,"dtable-font dtable-icon-calendar-alt-solid"),(0,defineProperty.default)(_COLUMNS_ICON_CONFIG,cell_type_CellType.SINGLE_SELECT,"dtable-font dtable-icon-single-election"),(0,defineProperty.default)(_COLUMNS_ICON_CONFIG,cell_type_CellType.LONG_TEXT,"dtable-font dtable-icon-long-text"),(0,defineProperty.default)(_COLUMNS_ICON_CONFIG,cell_type_CellType.IMAGE,"dtable-font dtable-icon-picture"),(0,defineProperty.default)(_COLUMNS_ICON_CONFIG,cell_type_CellType.FILE,"dtable-font dtable-icon-file-alt-solid"),(0,defineProperty.default)(_COLUMNS_ICON_CONFIG,cell_type_CellType.MULTIPLE_SELECT,"dtable-font dtable-icon-multiple-selection"),(0,defineProperty.default)(_COLUMNS_ICON_CONFIG,cell_type_CellType.COLLABORATOR,"dtable-font dtable-icon-collaborator"),(0,defineProperty.default)(_COLUMNS_ICON_CONFIG,cell_type_CellType.LINK,"dtable-font dtable-icon-link-other-record"),(0,defineProperty.default)(_COLUMNS_ICON_CONFIG,cell_type_CellType.FORMULA,"dtable-font dtable-icon-formula"),(0,defineProperty.default)(_COLUMNS_ICON_CONFIG,cell_type_CellType.LINK_FORMULA,"dtable-font dtable-icon-link-formulas"),(0,defineProperty.default)(_COLUMNS_ICON_CONFIG,cell_type_CellType.CREATOR,"dtable-font dtable-icon-creator"),(0,defineProperty.default)(_COLUMNS_ICON_CONFIG,cell_type_CellType.CTIME,"dtable-font dtable-icon-creation-time"),(0,defineProperty.default)(_COLUMNS_ICON_CONFIG,cell_type_CellType.LAST_MODIFIER,"dtable-font dtable-icon-creator"),(0,defineProperty.default)(_COLUMNS_ICON_CONFIG,cell_type_CellType.MTIME,"dtable-font dtable-icon-creation-time"),(0,defineProperty.default)(_COLUMNS_ICON_CONFIG,cell_type_CellType.GEOLOCATION,"dtable-font dtable-icon-location"),(0,defineProperty.default)(_COLUMNS_ICON_CONFIG,cell_type_CellType.AUTO_NUMBER,"dtable-font dtable-icon-autonumber"),(0,defineProperty.default)(_COLUMNS_ICON_CONFIG,cell_type_CellType.URL,"dtable-font dtable-icon-url"),(0,defineProperty.default)(_COLUMNS_ICON_CONFIG,cell_type_CellType.EMAIL,"dtable-font dtable-icon-email"),(0,defineProperty.default)(_COLUMNS_ICON_CONFIG,cell_type_CellType.DURATION,"dtable-font dtable-icon-duration"),(0,defineProperty.default)(_COLUMNS_ICON_CONFIG,cell_type_CellType.BUTTON,"dtable-font dtable-icon-button"),(0,defineProperty.default)(_COLUMNS_ICON_CONFIG,cell_type_CellType.RATE,"dtable-font dtable-icon-rate"),(0,defineProperty.default)(_COLUMNS_ICON_CONFIG,cell_type_CellType.DIGITAL_SIGN,"dtable-font dtable-icon-handwritten-signature"),(0,defineProperty.default)(_COLUMNS_ICON_CONFIG,cell_type_CellType.DEPARTMENT_SINGLE_SELECT,"dtable-font dtable-icon-department-single-selection"),_COLUMNS_ICON_CONFIG);COLUMNS_ICON_CONFIG[cell_type_CellType.TEXT],cell_type_CellType.TEXT,COLUMNS_ICON_CONFIG[cell_type_CellType.LONG_TEXT],cell_type_CellType.LONG_TEXT,COLUMNS_ICON_CONFIG[cell_type_CellType.NUMBER],cell_type_CellType.NUMBER,COLUMNS_ICON_CONFIG[cell_type_CellType.COLLABORATOR],cell_type_CellType.COLLABORATOR,COLUMNS_ICON_CONFIG[cell_type_CellType.DATE],cell_type_CellType.DATE,COLUMNS_ICON_CONFIG[cell_type_CellType.DURATION],cell_type_CellType.DURATION,COLUMNS_ICON_CONFIG[cell_type_CellType.SINGLE_SELECT],cell_type_CellType.SINGLE_SELECT,COLUMNS_ICON_CONFIG[cell_type_CellType.MULTIPLE_SELECT],cell_type_CellType.MULTIPLE_SELECT,COLUMNS_ICON_CONFIG[cell_type_CellType.IMAGE],cell_type_CellType.IMAGE,COLUMNS_ICON_CONFIG[cell_type_CellType.FILE],cell_type_CellType.FILE,COLUMNS_ICON_CONFIG[cell_type_CellType.EMAIL],cell_type_CellType.EMAIL,COLUMNS_ICON_CONFIG[cell_type_CellType.URL],cell_type_CellType.URL,COLUMNS_ICON_CONFIG[cell_type_CellType.CHECKBOX],cell_type_CellType.CHECKBOX,COLUMNS_ICON_CONFIG[cell_type_CellType.RATE],cell_type_CellType.RATE,COLUMNS_ICON_CONFIG[cell_type_CellType.FORMULA],cell_type_CellType.FORMULA,COLUMNS_ICON_CONFIG[cell_type_CellType.LINK_FORMULA],cell_type_CellType.LINK_FORMULA,COLUMNS_ICON_CONFIG[cell_type_CellType.GEOLOCATION],cell_type_CellType.GEOLOCATION,COLUMNS_ICON_CONFIG[cell_type_CellType.LINK],cell_type_CellType.LINK,COLUMNS_ICON_CONFIG[cell_type_CellType.CREATOR],cell_type_CellType.CREATOR,COLUMNS_ICON_CONFIG[cell_type_CellType.CTIME],cell_type_CellType.CTIME,COLUMNS_ICON_CONFIG[cell_type_CellType.LAST_MODIFIER],cell_type_CellType.LAST_MODIFIER,COLUMNS_ICON_CONFIG[cell_type_CellType.MTIME],cell_type_CellType.MTIME,COLUMNS_ICON_CONFIG[cell_type_CellType.AUTO_NUMBER],cell_type_CellType.AUTO_NUMBER,COLUMNS_ICON_CONFIG[cell_type_CellType.BUTTON],cell_type_CellType.BUTTON,COLUMNS_ICON_CONFIG[cell_type_CellType.DIGITAL_SIGN],cell_type_CellType.DIGITAL_SIGN,COLUMNS_ICON_CONFIG[cell_type_CellType.DEPARTMENT_SINGLE_SELECT],cell_type_CellType.DEPARTMENT_SINGLE_SELECT;var column_DATE_COLUMN_OPTIONS=[cell_type_CellType.DATE,cell_type_CellType.CTIME,cell_type_CellType.MTIME],column_NUMERIC_COLUMNS_TYPES=[cell_type_CellType.NUMBER,cell_type_CellType.DURATION,cell_type_CellType.RATE],COLLABORATOR_COLUMN_TYPES=[cell_type_CellType.COLLABORATOR,cell_type_CellType.CREATOR,cell_type_CellType.LAST_MODIFIER],column_DEFAULT_DATE_FORMAT="YYYY-MM-DD",DATE_UNIT={YEAR:"year",MONTH:"month",DAY:"day",HOURS:"hours",MINUTES:"minutes"},column_DATE_FORMAT_MAP={YYYY_MM_DD_HH_MM_SS:"YYYY-MM-DD HH:mm:ss"},column_DURATION_FORMATS_MAP={H_MM:"h:mm",H_MM_SS:"h:mm:ss",H_MM_SS_S:"h:mm:ss.s",H_MM_SS_SS:"h:mm:ss.ss",H_MM_SS_SSS:"h:mm:ss.sss"},column_DURATION_FORMATS=[{name:column_DURATION_FORMATS_MAP.H_MM,type:column_DURATION_FORMATS_MAP.H_MM},{name:column_DURATION_FORMATS_MAP.H_MM_SS,type:column_DURATION_FORMATS_MAP.H_MM_SS}],DURATION_DECIMAL_DIGITS=(_DURATION_DECIMAL_DIG={},(0,defineProperty.default)(_DURATION_DECIMAL_DIG,column_DURATION_FORMATS_MAP.H_MM,0),(0,defineProperty.default)(_DURATION_DECIMAL_DIG,column_DURATION_FORMATS_MAP.H_MM_SS,0),(0,defineProperty.default)(_DURATION_DECIMAL_DIG,column_DURATION_FORMATS_MAP.H_MM_SS_S,1),(0,defineProperty.default)(_DURATION_DECIMAL_DIG,column_DURATION_FORMATS_MAP.H_MM_SS_SS,2),(0,defineProperty.default)(_DURATION_DECIMAL_DIG,column_DURATION_FORMATS_MAP.H_MM_SS_SSS,3),_DURATION_DECIMAL_DIG),DURATION_ZERO_DISPLAY=(_DURATION_ZERO_DISPLA={},(0,defineProperty.default)(_DURATION_ZERO_DISPLA,column_DURATION_FORMATS_MAP.H_MM,"0:00"),(0,defineProperty.default)(_DURATION_ZERO_DISPLA,column_DURATION_FORMATS_MAP.H_MM_SS,"0:00"),(0,defineProperty.default)(_DURATION_ZERO_DISPLA,column_DURATION_FORMATS_MAP.H_MM_SS_S,"0:00.0"),(0,defineProperty.default)(_DURATION_ZERO_DISPLA,column_DURATION_FORMATS_MAP.H_MM_SS_SS,"0:00.00"),(0,defineProperty.default)(_DURATION_ZERO_DISPLA,column_DURATION_FORMATS_MAP.H_MM_SS_SSS,"0:00.000"),_DURATION_ZERO_DISPLA),column_DEPARTMENT_SELECT_RANGE_MAP={CURRENT_USER_DEPARTMENT:"current_user_department",CURRENT_USER_DEPARTMENT_AND_SUB:"current_user_department_and_sub"};cell_type_CellType.TEXT,cell_type_CellType.NUMBER,cell_type_CellType.SINGLE_SELECT,cell_type_CellType.RATE,cell_type_CellType.CHECKBOX,cell_type_CellType.LONG_TEXT,cell_type_CellType.DATE,cell_type_CellType.COLLABORATOR,cell_type_CellType.DEPARTMENT_SINGLE_SELECT,cell_type_CellType.CTIME,cell_type_CellType.MTIME,cell_type_CellType.CREATOR,cell_type_CellType.LAST_MODIFIER,cell_type_CellType.FORMULA,cell_type_CellType.AUTO_NUMBER,cell_type_CellType.BUTTON,cell_type_CellType.LINK_FORMULA,_NOT_SUPPORT_EDIT_COL={},(0,defineProperty.default)(_NOT_SUPPORT_EDIT_COL,cell_type_CellType.CTIME,!0),(0,defineProperty.default)(_NOT_SUPPORT_EDIT_COL,cell_type_CellType.MTIME,!0),(0,defineProperty.default)(_NOT_SUPPORT_EDIT_COL,cell_type_CellType.CREATOR,!0),(0,defineProperty.default)(_NOT_SUPPORT_EDIT_COL,cell_type_CellType.LAST_MODIFIER,!0),(0,defineProperty.default)(_NOT_SUPPORT_EDIT_COL,cell_type_CellType.FORMULA,!0),(0,defineProperty.default)(_NOT_SUPPORT_EDIT_COL,cell_type_CellType.AUTO_NUMBER,!0),(0,defineProperty.default)(_NOT_SUPPORT_EDIT_COL,cell_type_CellType.BUTTON,!0),(0,defineProperty.default)(_NOT_SUPPORT_EDIT_COL,cell_type_CellType.LINK_FORMULA,!0),_MULTIPLE_CELL_VALUE_={},(0,defineProperty.default)(_MULTIPLE_CELL_VALUE_,cell_type_CellType.MULTIPLE_SELECT,!0),(0,defineProperty.default)(_MULTIPLE_CELL_VALUE_,cell_type_CellType.COLLABORATOR,!0),(0,defineProperty.default)(_MULTIPLE_CELL_VALUE_,cell_type_CellType.LINK,!0),_SINGLE_CELL_VALUE_CO={},(0,defineProperty.default)(_SINGLE_CELL_VALUE_CO,cell_type_CellType.TEXT,!0),(0,defineProperty.default)(_SINGLE_CELL_VALUE_CO,cell_type_CellType.DATE,!0),(0,defineProperty.default)(_SINGLE_CELL_VALUE_CO,cell_type_CellType.CTIME,!0),(0,defineProperty.default)(_SINGLE_CELL_VALUE_CO,cell_type_CellType.MTIME,!0),(0,defineProperty.default)(_SINGLE_CELL_VALUE_CO,cell_type_CellType.NUMBER,!0),(0,defineProperty.default)(_SINGLE_CELL_VALUE_CO,cell_type_CellType.CHECKBOX,!0),(0,defineProperty.default)(_SINGLE_CELL_VALUE_CO,cell_type_CellType.SINGLE_SELECT,!0),(0,defineProperty.default)(_SINGLE_CELL_VALUE_CO,cell_type_CellType.CREATOR,!0),(0,defineProperty.default)(_SINGLE_CELL_VALUE_CO,cell_type_CellType.GEOLOCATION,!0),(0,defineProperty.default)(_SINGLE_CELL_VALUE_CO,cell_type_CellType.FORMULA,!0),(0,defineProperty.default)(_SINGLE_CELL_VALUE_CO,cell_type_CellType.LINK_FORMULA,!0),(0,defineProperty.default)(_SINGLE_CELL_VALUE_CO,cell_type_CellType.URL,!0),(0,defineProperty.default)(_SINGLE_CELL_VALUE_CO,cell_type_CellType.EMAIL,!0),(0,defineProperty.default)(_SINGLE_CELL_VALUE_CO,cell_type_CellType.DURATION,!0),(0,defineProperty.default)(_SINGLE_CELL_VALUE_CO,cell_type_CellType.RATE,!0),(0,defineProperty.default)(_SINGLE_CELL_VALUE_CO,cell_type_CellType.LAST_MODIFIER,!0),(0,defineProperty.default)(_SINGLE_CELL_VALUE_CO,cell_type_CellType.DIGITAL_SIGN,!0),(0,defineProperty.default)(_SINGLE_CELL_VALUE_CO,cell_type_CellType.DEPARTMENT_SINGLE_SELECT,!0);var filter_modifier_FILTER_TERM_MODIFIER_TYPE={TODAY:"today",TOMORROW:"tomorrow",YESTERDAY:"yesterday",ONE_WEEK_AGO:"one_week_ago",ONE_WEEK_FROM_NOW:"one_week_from_now",ONE_MONTH_AGO:"one_month_ago",ONE_MONTH_FROM_NOW:"one_month_from_now",NUMBER_OF_DAYS_AGO:"number_of_days_ago",NUMBER_OF_DAYS_FROM_NOW:"number_of_days_from_now",EXACT_DATE:"exact_date",THE_PAST_WEEK:"the_past_week",THE_PAST_MONTH:"the_past_month",THE_PAST_YEAR:"the_past_year",THE_NEXT_WEEK:"the_next_week",THE_NEXT_MONTH:"the_next_month",THE_NEXT_YEAR:"the_next_year",THE_NEXT_NUMBERS_OF_DAYS:"the_next_numbers_of_days",THE_PAST_NUMBERS_OF_DAYS:"the_past_numbers_of_days",THIS_WEEK:"this_week",THIS_MONTH:"this_month",THIS_YEAR:"this_year"};_FILTER_TERM_MODIFIER={},(0,defineProperty.default)(_FILTER_TERM_MODIFIER,filter_modifier_FILTER_TERM_MODIFIER_TYPE.TODAY,"today"),(0,defineProperty.default)(_FILTER_TERM_MODIFIER,filter_modifier_FILTER_TERM_MODIFIER_TYPE.TOMORROW,"tomorrow"),(0,defineProperty.default)(_FILTER_TERM_MODIFIER,filter_modifier_FILTER_TERM_MODIFIER_TYPE.YESTERDAY,"yesterday"),(0,defineProperty.default)(_FILTER_TERM_MODIFIER,filter_modifier_FILTER_TERM_MODIFIER_TYPE.ONE_WEEK_AGO,"one week ago"),(0,defineProperty.default)(_FILTER_TERM_MODIFIER,filter_modifier_FILTER_TERM_MODIFIER_TYPE.ONE_WEEK_FROM_NOW,"one week from now"),(0,defineProperty.default)(_FILTER_TERM_MODIFIER,filter_modifier_FILTER_TERM_MODIFIER_TYPE.ONE_MONTH_AGO,"one month ago"),(0,defineProperty.default)(_FILTER_TERM_MODIFIER,filter_modifier_FILTER_TERM_MODIFIER_TYPE.ONE_MONTH_FROM_NOW,"one month from now"),(0,defineProperty.default)(_FILTER_TERM_MODIFIER,filter_modifier_FILTER_TERM_MODIFIER_TYPE.NUMBER_OF_DAYS_AGO,"number of days ago"),(0,defineProperty.default)(_FILTER_TERM_MODIFIER,filter_modifier_FILTER_TERM_MODIFIER_TYPE.NUMBER_OF_DAYS_FROM_NOW,"number of days from now"),(0,defineProperty.default)(_FILTER_TERM_MODIFIER,filter_modifier_FILTER_TERM_MODIFIER_TYPE.EXACT_DATE,"exact date"),(0,defineProperty.default)(_FILTER_TERM_MODIFIER,filter_modifier_FILTER_TERM_MODIFIER_TYPE.THE_PAST_WEEK,"the past week"),(0,defineProperty.default)(_FILTER_TERM_MODIFIER,filter_modifier_FILTER_TERM_MODIFIER_TYPE.THE_PAST_MONTH,"the past month"),(0,defineProperty.default)(_FILTER_TERM_MODIFIER,filter_modifier_FILTER_TERM_MODIFIER_TYPE.THE_PAST_YEAR,"the past year"),(0,defineProperty.default)(_FILTER_TERM_MODIFIER,filter_modifier_FILTER_TERM_MODIFIER_TYPE.THE_NEXT_WEEK,"the next week"),(0,defineProperty.default)(_FILTER_TERM_MODIFIER,filter_modifier_FILTER_TERM_MODIFIER_TYPE.THE_NEXT_MONTH,"the next month"),(0,defineProperty.default)(_FILTER_TERM_MODIFIER,filter_modifier_FILTER_TERM_MODIFIER_TYPE.THE_NEXT_YEAR,"the next year"),(0,defineProperty.default)(_FILTER_TERM_MODIFIER,filter_modifier_FILTER_TERM_MODIFIER_TYPE.THE_NEXT_NUMBERS_OF_DAYS,"the next numbers of days..."),(0,defineProperty.default)(_FILTER_TERM_MODIFIER,filter_modifier_FILTER_TERM_MODIFIER_TYPE.THE_PAST_NUMBERS_OF_DAYS,"the past numbers of days..."),(0,defineProperty.default)(_FILTER_TERM_MODIFIER,filter_modifier_FILTER_TERM_MODIFIER_TYPE.THIS_WEEK,"this week"),(0,defineProperty.default)(_FILTER_TERM_MODIFIER,filter_modifier_FILTER_TERM_MODIFIER_TYPE.THIS_MONTH,"this month"),(0,defineProperty.default)(_FILTER_TERM_MODIFIER,filter_modifier_FILTER_TERM_MODIFIER_TYPE.THIS_YEAR,"this year");var filter_predicate_FILTER_PREDICATE_TYPE={CONTAINS:"contains",NOT_CONTAIN:"does_not_contain",IS:"is",IS_NOT:"is_not",EQUAL:"equal",NOT_EQUAL:"not_equal",LESS:"less",GREATER:"greater",LESS_OR_EQUAL:"less_or_equal",GREATER_OR_EQUAL:"greater_or_equal",EMPTY:"is_empty",NOT_EMPTY:"is_not_empty",IS_WITHIN:"is_within",IS_BEFORE:"is_before",IS_AFTER:"is_after",IS_ON_OR_BEFORE:"is_on_or_before",IS_ON_OR_AFTER:"is_on_or_after",HAS_ANY_OF:"has_any_of",HAS_ALL_OF:"has_all_of",HAS_NONE_OF:"has_none_of",IS_EXACTLY:"is_exactly",INCLUDE_ME:"include_me",IS_CURRENT_USER_ID:"is_current_user_ID",IS_ANY_OF:"is_any_of",IS_NONE_OF:"is_none_of"};_FILTER_PREDICATE_SHO={},(0,defineProperty.default)(_FILTER_PREDICATE_SHO,filter_predicate_FILTER_PREDICATE_TYPE.CONTAINS,"contains"),(0,defineProperty.default)(_FILTER_PREDICATE_SHO,filter_predicate_FILTER_PREDICATE_TYPE.NOT_CONTAIN,"does not contain"),(0,defineProperty.default)(_FILTER_PREDICATE_SHO,filter_predicate_FILTER_PREDICATE_TYPE.IS,"is"),(0,defineProperty.default)(_FILTER_PREDICATE_SHO,filter_predicate_FILTER_PREDICATE_TYPE.IS_NOT,"is not"),(0,defineProperty.default)(_FILTER_PREDICATE_SHO,filter_predicate_FILTER_PREDICATE_TYPE.EQUAL,"="),(0,defineProperty.default)(_FILTER_PREDICATE_SHO,filter_predicate_FILTER_PREDICATE_TYPE.NOT_EQUAL,"≠"),(0,defineProperty.default)(_FILTER_PREDICATE_SHO,filter_predicate_FILTER_PREDICATE_TYPE.LESS,"<"),(0,defineProperty.default)(_FILTER_PREDICATE_SHO,filter_predicate_FILTER_PREDICATE_TYPE.GREATER,">"),(0,defineProperty.default)(_FILTER_PREDICATE_SHO,filter_predicate_FILTER_PREDICATE_TYPE.LESS_OR_EQUAL,"≤"),(0,defineProperty.default)(_FILTER_PREDICATE_SHO,filter_predicate_FILTER_PREDICATE_TYPE.GREATER_OR_EQUAL,"≥"),(0,defineProperty.default)(_FILTER_PREDICATE_SHO,filter_predicate_FILTER_PREDICATE_TYPE.EMPTY,"is empty"),(0,defineProperty.default)(_FILTER_PREDICATE_SHO,filter_predicate_FILTER_PREDICATE_TYPE.NOT_EMPTY,"is not empty"),(0,defineProperty.default)(_FILTER_PREDICATE_SHO,filter_predicate_FILTER_PREDICATE_TYPE.IS_WITHIN,"is within..."),(0,defineProperty.default)(_FILTER_PREDICATE_SHO,filter_predicate_FILTER_PREDICATE_TYPE.IS_BEFORE,"is before..."),(0,defineProperty.default)(_FILTER_PREDICATE_SHO,filter_predicate_FILTER_PREDICATE_TYPE.IS_AFTER,"is after..."),(0,defineProperty.default)(_FILTER_PREDICATE_SHO,filter_predicate_FILTER_PREDICATE_TYPE.IS_ON_OR_BEFORE,"is on or before..."),(0,defineProperty.default)(_FILTER_PREDICATE_SHO,filter_predicate_FILTER_PREDICATE_TYPE.IS_ON_OR_AFTER,"is on or after..."),(0,defineProperty.default)(_FILTER_PREDICATE_SHO,filter_predicate_FILTER_PREDICATE_TYPE.HAS_ANY_OF,"has any of..."),(0,defineProperty.default)(_FILTER_PREDICATE_SHO,filter_predicate_FILTER_PREDICATE_TYPE.HAS_ALL_OF,"has all of..."),(0,defineProperty.default)(_FILTER_PREDICATE_SHO,filter_predicate_FILTER_PREDICATE_TYPE.HAS_NONE_OF,"has none of..."),(0,defineProperty.default)(_FILTER_PREDICATE_SHO,filter_predicate_FILTER_PREDICATE_TYPE.IS_EXACTLY,"is exactly..."),(0,defineProperty.default)(_FILTER_PREDICATE_SHO,filter_predicate_FILTER_PREDICATE_TYPE.IS_CURRENT_USER_ID,"is current user's ID");var textPredicates=[filter_predicate_FILTER_PREDICATE_TYPE.CONTAINS,filter_predicate_FILTER_PREDICATE_TYPE.NOT_CONTAIN,filter_predicate_FILTER_PREDICATE_TYPE.IS,filter_predicate_FILTER_PREDICATE_TYPE.IS_NOT,filter_predicate_FILTER_PREDICATE_TYPE.EMPTY,filter_predicate_FILTER_PREDICATE_TYPE.NOT_EMPTY,filter_predicate_FILTER_PREDICATE_TYPE.IS_CURRENT_USER_ID],numberPredicates=[filter_predicate_FILTER_PREDICATE_TYPE.EQUAL,filter_predicate_FILTER_PREDICATE_TYPE.NOT_EQUAL,filter_predicate_FILTER_PREDICATE_TYPE.LESS,filter_predicate_FILTER_PREDICATE_TYPE.GREATER,filter_predicate_FILTER_PREDICATE_TYPE.LESS_OR_EQUAL,filter_predicate_FILTER_PREDICATE_TYPE.GREATER_OR_EQUAL,filter_predicate_FILTER_PREDICATE_TYPE.EMPTY,filter_predicate_FILTER_PREDICATE_TYPE.NOT_EMPTY],datePredicates=[filter_predicate_FILTER_PREDICATE_TYPE.IS,filter_predicate_FILTER_PREDICATE_TYPE.IS_WITHIN,filter_predicate_FILTER_PREDICATE_TYPE.IS_BEFORE,filter_predicate_FILTER_PREDICATE_TYPE.IS_AFTER,filter_predicate_FILTER_PREDICATE_TYPE.IS_ON_OR_BEFORE,filter_predicate_FILTER_PREDICATE_TYPE.IS_ON_OR_AFTER,filter_predicate_FILTER_PREDICATE_TYPE.IS_NOT,filter_predicate_FILTER_PREDICATE_TYPE.EMPTY,filter_predicate_FILTER_PREDICATE_TYPE.NOT_EMPTY],geolocationPredicates=textPredicates.filter(function(predicate){return predicate!==filter_predicate_FILTER_PREDICATE_TYPE.IS_CURRENT_USER_ID}),dateTermModifiers=[filter_modifier_FILTER_TERM_MODIFIER_TYPE.TODAY,filter_modifier_FILTER_TERM_MODIFIER_TYPE.TOMORROW,filter_modifier_FILTER_TERM_MODIFIER_TYPE.YESTERDAY,filter_modifier_FILTER_TERM_MODIFIER_TYPE.ONE_WEEK_AGO,filter_modifier_FILTER_TERM_MODIFIER_TYPE.ONE_WEEK_FROM_NOW,filter_modifier_FILTER_TERM_MODIFIER_TYPE.ONE_MONTH_AGO,filter_modifier_FILTER_TERM_MODIFIER_TYPE.ONE_MONTH_FROM_NOW,filter_modifier_FILTER_TERM_MODIFIER_TYPE.NUMBER_OF_DAYS_AGO,filter_modifier_FILTER_TERM_MODIFIER_TYPE.NUMBER_OF_DAYS_FROM_NOW,filter_modifier_FILTER_TERM_MODIFIER_TYPE.EXACT_DATE],FILTER_COLUMN_OPTIONS=(_FILTER_COLUMN_OPTION={},(0,defineProperty.default)(_FILTER_COLUMN_OPTION,cell_type_CellType.TEXT,{filterPredicateList:textPredicates}),(0,defineProperty.default)(_FILTER_COLUMN_OPTION,cell_type_CellType.NUMBER,{filterPredicateList:numberPredicates}),(0,defineProperty.default)(_FILTER_COLUMN_OPTION,cell_type_CellType.CHECKBOX,{filterPredicateList:[filter_predicate_FILTER_PREDICATE_TYPE.IS]}),(0,defineProperty.default)(_FILTER_COLUMN_OPTION,cell_type_CellType.DATE,{filterPredicateList:datePredicates,filterTermModifierList:dateTermModifiers}),(0,defineProperty.default)(_FILTER_COLUMN_OPTION,cell_type_CellType.CTIME,{filterPredicateList:datePredicates,filterTermModifierList:dateTermModifiers}),(0,defineProperty.default)(_FILTER_COLUMN_OPTION,cell_type_CellType.MTIME,{filterPredicateList:datePredicates,filterTermModifierList:dateTermModifiers}),(0,defineProperty.default)(_FILTER_COLUMN_OPTION,cell_type_CellType.SINGLE_SELECT,{filterPredicateList:[filter_predicate_FILTER_PREDICATE_TYPE.IS,filter_predicate_FILTER_PREDICATE_TYPE.IS_NOT,filter_predicate_FILTER_PREDICATE_TYPE.IS_ANY_OF,filter_predicate_FILTER_PREDICATE_TYPE.IS_NONE_OF,filter_predicate_FILTER_PREDICATE_TYPE.EMPTY,filter_predicate_FILTER_PREDICATE_TYPE.NOT_EMPTY]}),(0,defineProperty.default)(_FILTER_COLUMN_OPTION,cell_type_CellType.MULTIPLE_SELECT,{filterPredicateList:[filter_predicate_FILTER_PREDICATE_TYPE.HAS_ANY_OF,filter_predicate_FILTER_PREDICATE_TYPE.HAS_ALL_OF,filter_predicate_FILTER_PREDICATE_TYPE.HAS_NONE_OF,filter_predicate_FILTER_PREDICATE_TYPE.IS_EXACTLY,filter_predicate_FILTER_PREDICATE_TYPE.EMPTY,filter_predicate_FILTER_PREDICATE_TYPE.NOT_EMPTY]}),(0,defineProperty.default)(_FILTER_COLUMN_OPTION,cell_type_CellType.DEPARTMENT_SINGLE_SELECT,{filterPredicateList:[filter_predicate_FILTER_PREDICATE_TYPE.IS,filter_predicate_FILTER_PREDICATE_TYPE.IS_NOT,filter_predicate_FILTER_PREDICATE_TYPE.IS_ANY_OF,filter_predicate_FILTER_PREDICATE_TYPE.IS_NONE_OF,filter_predicate_FILTER_PREDICATE_TYPE.EMPTY,filter_predicate_FILTER_PREDICATE_TYPE.NOT_EMPTY]}),(0,defineProperty.default)(_FILTER_COLUMN_OPTION,cell_type_CellType.COLLABORATOR,{filterPredicateList:[filter_predicate_FILTER_PREDICATE_TYPE.HAS_ANY_OF,filter_predicate_FILTER_PREDICATE_TYPE.HAS_ALL_OF,filter_predicate_FILTER_PREDICATE_TYPE.HAS_NONE_OF,filter_predicate_FILTER_PREDICATE_TYPE.IS_EXACTLY,filter_predicate_FILTER_PREDICATE_TYPE.EMPTY,filter_predicate_FILTER_PREDICATE_TYPE.NOT_EMPTY,filter_predicate_FILTER_PREDICATE_TYPE.INCLUDE_ME]}),(0,defineProperty.default)(_FILTER_COLUMN_OPTION,cell_type_CellType.CREATOR,{filterPredicateList:[filter_predicate_FILTER_PREDICATE_TYPE.CONTAINS,filter_predicate_FILTER_PREDICATE_TYPE.NOT_CONTAIN,filter_predicate_FILTER_PREDICATE_TYPE.INCLUDE_ME,filter_predicate_FILTER_PREDICATE_TYPE.IS,filter_predicate_FILTER_PREDICATE_TYPE.IS_NOT]}),(0,defineProperty.default)(_FILTER_COLUMN_OPTION,cell_type_CellType.GEOLOCATION,{filterPredicateList:geolocationPredicates}),(0,defineProperty.default)(_FILTER_COLUMN_OPTION,cell_type_CellType.FORMULA,{}),(0,defineProperty.default)(_FILTER_COLUMN_OPTION,cell_type_CellType.LINK_FORMULA,{}),(0,defineProperty.default)(_FILTER_COLUMN_OPTION,cell_type_CellType.LINK,{}),(0,defineProperty.default)(_FILTER_COLUMN_OPTION,cell_type_CellType.LAST_MODIFIER,{filterPredicateList:[filter_predicate_FILTER_PREDICATE_TYPE.CONTAINS,filter_predicate_FILTER_PREDICATE_TYPE.NOT_CONTAIN,filter_predicate_FILTER_PREDICATE_TYPE.INCLUDE_ME,filter_predicate_FILTER_PREDICATE_TYPE.IS,filter_predicate_FILTER_PREDICATE_TYPE.IS_NOT]}),(0,defineProperty.default)(_FILTER_COLUMN_OPTION,cell_type_CellType.AUTO_NUMBER,{filterPredicateList:[filter_predicate_FILTER_PREDICATE_TYPE.CONTAINS,filter_predicate_FILTER_PREDICATE_TYPE.NOT_CONTAIN,filter_predicate_FILTER_PREDICATE_TYPE.IS,filter_predicate_FILTER_PREDICATE_TYPE.IS_NOT]}),(0,defineProperty.default)(_FILTER_COLUMN_OPTION,cell_type_CellType.EMAIL,{filterPredicateList:[filter_predicate_FILTER_PREDICATE_TYPE.CONTAINS,filter_predicate_FILTER_PREDICATE_TYPE.NOT_CONTAIN,filter_predicate_FILTER_PREDICATE_TYPE.IS,filter_predicate_FILTER_PREDICATE_TYPE.IS_NOT,filter_predicate_FILTER_PREDICATE_TYPE.EMPTY,filter_predicate_FILTER_PREDICATE_TYPE.NOT_EMPTY]}),(0,defineProperty.default)(_FILTER_COLUMN_OPTION,cell_type_CellType.URL,{filterPredicateList:[filter_predicate_FILTER_PREDICATE_TYPE.CONTAINS,filter_predicate_FILTER_PREDICATE_TYPE.NOT_CONTAIN,filter_predicate_FILTER_PREDICATE_TYPE.IS,filter_predicate_FILTER_PREDICATE_TYPE.IS_NOT,filter_predicate_FILTER_PREDICATE_TYPE.EMPTY,filter_predicate_FILTER_PREDICATE_TYPE.NOT_EMPTY]}),(0,defineProperty.default)(_FILTER_COLUMN_OPTION,cell_type_CellType.IMAGE,{filterPredicateList:[filter_predicate_FILTER_PREDICATE_TYPE.EMPTY,filter_predicate_FILTER_PREDICATE_TYPE.NOT_EMPTY]}),(0,defineProperty.default)(_FILTER_COLUMN_OPTION,cell_type_CellType.FILE,{filterPredicateList:[filter_predicate_FILTER_PREDICATE_TYPE.EMPTY,filter_predicate_FILTER_PREDICATE_TYPE.NOT_EMPTY]}),(0,defineProperty.default)(_FILTER_COLUMN_OPTION,cell_type_CellType.LONG_TEXT,{filterPredicateList:[filter_predicate_FILTER_PREDICATE_TYPE.EMPTY,filter_predicate_FILTER_PREDICATE_TYPE.NOT_EMPTY]}),(0,defineProperty.default)(_FILTER_COLUMN_OPTION,cell_type_CellType.DURATION,{filterPredicateList:numberPredicates}),(0,defineProperty.default)(_FILTER_COLUMN_OPTION,cell_type_CellType.RATE,{filterPredicateList:numberPredicates}),(0,defineProperty.default)(_FILTER_COLUMN_OPTION,cell_type_CellType.DIGITAL_SIGN,{filterPredicateList:[filter_predicate_FILTER_PREDICATE_TYPE.EMPTY,filter_predicate_FILTER_PREDICATE_TYPE.NOT_EMPTY]}),(0,defineProperty.default)(_FILTER_COLUMN_OPTION,cell_type_CellType.STRING,{filterPredicateList:textPredicates}),(0,defineProperty.default)(_FILTER_COLUMN_OPTION,cell_type_CellType.BOOL,{filterPredicateList:[filter_predicate_FILTER_PREDICATE_TYPE.IS]}),_FILTER_COLUMN_OPTION),filterTermModifierNotWithin=[filter_modifier_FILTER_TERM_MODIFIER_TYPE.EXACT_DATE,filter_modifier_FILTER_TERM_MODIFIER_TYPE.TODAY,filter_modifier_FILTER_TERM_MODIFIER_TYPE.TOMORROW,filter_modifier_FILTER_TERM_MODIFIER_TYPE.YESTERDAY,filter_modifier_FILTER_TERM_MODIFIER_TYPE.ONE_WEEK_AGO,filter_modifier_FILTER_TERM_MODIFIER_TYPE.ONE_WEEK_FROM_NOW,filter_modifier_FILTER_TERM_MODIFIER_TYPE.ONE_MONTH_AGO,filter_modifier_FILTER_TERM_MODIFIER_TYPE.ONE_MONTH_FROM_NOW,filter_modifier_FILTER_TERM_MODIFIER_TYPE.NUMBER_OF_DAYS_AGO,filter_modifier_FILTER_TERM_MODIFIER_TYPE.NUMBER_OF_DAYS_FROM_NOW],filterTermModifierIsWithin=[filter_modifier_FILTER_TERM_MODIFIER_TYPE.THE_PAST_WEEK,filter_modifier_FILTER_TERM_MODIFIER_TYPE.THE_PAST_MONTH,filter_modifier_FILTER_TERM_MODIFIER_TYPE.THE_PAST_YEAR,filter_modifier_FILTER_TERM_MODIFIER_TYPE.THIS_WEEK,filter_modifier_FILTER_TERM_MODIFIER_TYPE.THIS_MONTH,filter_modifier_FILTER_TERM_MODIFIER_TYPE.THIS_YEAR,filter_modifier_FILTER_TERM_MODIFIER_TYPE.THE_NEXT_WEEK,filter_modifier_FILTER_TERM_MODIFIER_TYPE.THE_NEXT_MONTH,filter_modifier_FILTER_TERM_MODIFIER_TYPE.THE_NEXT_YEAR,filter_modifier_FILTER_TERM_MODIFIER_TYPE.THE_NEXT_NUMBERS_OF_DAYS,filter_modifier_FILTER_TERM_MODIFIER_TYPE.THE_PAST_NUMBERS_OF_DAYS],FILTER_CONJUNCTION_TYPE={AND:"And",OR:"Or"},filter_FILTER_ERR_MSG={INCOMPLETE_FILTER:"incomplete filter",COLUMN_MISSING:"the column to filter does not exist",COLUMN_NOT_SUPPORTED:"the column to filter is not supported",UNMATCHED_PREDICATE:"unmatched filter predicate",UNMATCHED_MODIFIER:"unmatched filter modifier",INVALID_TERM:"invalid filter term"},formula_FORMULA_RESULT_TYPE={NUMBER:"number",STRING:"string",DATE:"date",BOOL:"bool",ARRAY:"array"};cell_type_CellType.FORMULA,cell_type_CellType.LINK_FORMULA;var formula_FORMULA_COLUMN_TYPES_MAP=(_FORMULA_COLUMN_TYPES={},(0,defineProperty.default)(_FORMULA_COLUMN_TYPES,cell_type_CellType.FORMULA,!0),(0,defineProperty.default)(_FORMULA_COLUMN_TYPES,cell_type_CellType.LINK_FORMULA,!0),_FORMULA_COLUMN_TYPES),select_option_SELECT_OPTION_COLORS=[{COLOR:"#FFFCB5",BORDER_COLOR:"#E8E79D",TEXT_COLOR:"#212529"},{COLOR:"#FFEAB6",BORDER_COLOR:"#ECD084",TEXT_COLOR:"#212529"},{COLOR:"#FFD9C8",BORDER_COLOR:"#EFBAA3",TEXT_COLOR:"#212529"},{COLOR:"#FFDDE5",BORDER_COLOR:"#EDC4C1",TEXT_COLOR:"#212529"},{COLOR:"#FFD4FF",BORDER_COLOR:"#E6B6E6",TEXT_COLOR:"#212529"},{COLOR:"#DAD7FF",BORDER_COLOR:"#C3BEEF",TEXT_COLOR:"#212529"},{COLOR:"#DDFFE6",BORDER_COLOR:"#BBEBCD",TEXT_COLOR:"#212529"},{COLOR:"#DEF7C4",BORDER_COLOR:"#C5EB9E",TEXT_COLOR:"#212529"},{COLOR:"#D8FAFF",BORDER_COLOR:"#B4E4E9",TEXT_COLOR:"#212529"},{COLOR:"#D7E8FF",BORDER_COLOR:"#BAD1E9",TEXT_COLOR:"#212529"},{COLOR:"#B7CEF9",BORDER_COLOR:"#96B2E1",TEXT_COLOR:"#212529"},{COLOR:"#E9E9E9",BORDER_COLOR:"#DADADA",TEXT_COLOR:"#212529"},{COLOR:"#FBD44A",BORDER_COLOR:"#E5C142",TEXT_COLOR:"#FFFFFF"},{COLOR:"#EAA775",BORDER_COLOR:"#D59361",TEXT_COLOR:"#FFFFFF"},{COLOR:"#F4667C",BORDER_COLOR:"#DC556A",TEXT_COLOR:"#FFFFFF"},{COLOR:"#DC82D2",BORDER_COLOR:"#D166C5",TEXT_COLOR:"#FFFFFF"},{COLOR:"#9860E5",BORDER_COLOR:"#844BD2",TEXT_COLOR:"#FFFFFF"},{COLOR:"#9F8CF1",BORDER_COLOR:"#8F75E2",TEXT_COLOR:"#FFFFFF"},{COLOR:"#59CB74",BORDER_COLOR:"#4EB867",TEXT_COLOR:"#FFFFFF"},{COLOR:"#ADDF84",BORDER_COLOR:"#9CCF72",TEXT_COLOR:"#FFFFFF"},{COLOR:"#89D2EA",BORDER_COLOR:"#7BC0D6",TEXT_COLOR:"#FFFFFF"},{COLOR:"#4ECCCB",BORDER_COLOR:"#45BAB9",TEXT_COLOR:"#FFFFFF"},{COLOR:"#46A1FD",BORDER_COLOR:"#3C8FE4",TEXT_COLOR:"#FFFFFF"},{COLOR:"#C2C2C2",BORDER_COLOR:"#ADADAD",TEXT_COLOR:"#FFFFFF"}],sort_SORT_TYPE={UP:"up",DOWN:"down"},sort_SORT_COLUMN_OPTIONS=[cell_type_CellType.DATE,cell_type_CellType.CTIME,cell_type_CellType.MTIME,cell_type_CellType.SINGLE_SELECT,cell_type_CellType.TEXT,cell_type_CellType.NUMBER,cell_type_CellType.FORMULA,cell_type_CellType.LINK_FORMULA,cell_type_CellType.AUTO_NUMBER,cell_type_CellType.COLLABORATOR,cell_type_CellType.DURATION,cell_type_CellType.URL,cell_type_CellType.EMAIL,cell_type_CellType.CHECKBOX,cell_type_CellType.MULTIPLE_SELECT,cell_type_CellType.LINK,cell_type_CellType.RATE,cell_type_CellType.DEPARTMENT_SINGLE_SELECT];cell_type_CellType.TEXT,cell_type_CellType.URL,cell_type_CellType.EMAIL;var sort_NUMBER_SORTER_COLUMN_TYPES=[cell_type_CellType.NUMBER,cell_type_CellType.DURATION,cell_type_CellType.RATE],group_GROUP_DATE_GRANULARITY={DAY:"day",WEEK:"week",MONTH:"month",QUARTAR:"quartar",YEAR:"year"};_DISPLAY_GROUP_DATE_G={},(0,defineProperty.default)(_DISPLAY_GROUP_DATE_G,group_GROUP_DATE_GRANULARITY.DAY,"By_day"),(0,defineProperty.default)(_DISPLAY_GROUP_DATE_G,group_GROUP_DATE_GRANULARITY.WEEK,"By_week"),(0,defineProperty.default)(_DISPLAY_GROUP_DATE_G,group_GROUP_DATE_GRANULARITY.MONTH,"By_month"),(0,defineProperty.default)(_DISPLAY_GROUP_DATE_G,group_GROUP_DATE_GRANULARITY.QUARTAR,"By_quarter"),(0,defineProperty.default)(_DISPLAY_GROUP_DATE_G,group_GROUP_DATE_GRANULARITY.YEAR,"By_year");var group_GROUP_GEOLOCATION_GRANULARITY={PROVINCE:"province",CITY:"city",DISTRICT:"district"};_DISPLAY_GROUP_GEOLOC={},(0,defineProperty.default)(_DISPLAY_GROUP_GEOLOC,group_GROUP_GEOLOCATION_GRANULARITY.PROVINCE,"By_province"),(0,defineProperty.default)(_DISPLAY_GROUP_GEOLOC,group_GROUP_GEOLOCATION_GRANULARITY.CITY,"By_city"),(0,defineProperty.default)(_DISPLAY_GROUP_GEOLOC,group_GROUP_GEOLOCATION_GRANULARITY.DISTRICT,"By_district"),cell_type_CellType.TEXT,cell_type_CellType.DATE,cell_type_CellType.CTIME,cell_type_CellType.MTIME,cell_type_CellType.NUMBER,cell_type_CellType.CHECKBOX,cell_type_CellType.SINGLE_SELECT,cell_type_CellType.MULTIPLE_SELECT,cell_type_CellType.COLLABORATOR,cell_type_CellType.CREATOR,cell_type_CellType.GEOLOCATION,cell_type_CellType.FORMULA,cell_type_CellType.LINK_FORMULA,cell_type_CellType.LINK,cell_type_CellType.URL,cell_type_CellType.EMAIL,cell_type_CellType.DURATION,cell_type_CellType.RATE,cell_type_CellType.LAST_MODIFIER,cell_type_CellType.DEPARTMENT_SINGLE_SELECT;var COLOR_GRADATION_OPTIONS={color_gradation_1:["#FFFFFF","#CAE9FF","#9AC5FF","#7DAAFF","#5C90F9"],color_gradation_2:["#5C90F9","#7DAAFF","#9AC5FF","#CAE9FF","#FFFFFF"],color_gradation_3:["#FFFFFF","#AAF7D2","#74E6B6","#42C090","#17A675"],color_gradation_4:["#17A675","#42C090","#74E6B6","#AAF7D2","#FFFFFF"],color_gradation_5:["#FFFFFF","#EBE2F1","#D4C4E2","#BFA8D4","#A989C5"],color_gradation_6:["#A989C5","#BFA8D4","#D4C4E2","#EBE2F1","#FFFFFF"],color_gradation_7:["#FFFFFF","#FBE2E1","#F7C6C6","#F3A9A9","#F17F7E"],color_gradation_8:["#F17F7E","#F3A9A9","#F7C6C6","#FBE2E1","#FFFFFF"],color_gradation_9:["#FFFFFF","#FFF2D4","#FFE9B8","#FFDD95","#FFD470"],color_gradation_10:["#FFD470","#FFDD95","#FFE9B8","#FFF2D4","#FFFFFF"],color_gradation_11:["#FFFFFF","#FEE6CE","#FDD1A2","#FDAD6B","#FD8D3D"],color_gradation_12:["#FD8D3D","#FDAD6B","#FDD1A2","#FEE6CE","#FFFFFF"]};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw TypeError("Cannot call a class as a function")}var toPropertyKey=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,(0,toPropertyKey.A)(descriptor.key),descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}var MONTH_QUARTERS=[1,1,1,2,2,2,3,3,3,4,4,4],FORMATTING_TOKENS=/(\[[^[]*\])|([-:/.()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,MATCH_1_2=/\d\d?/,MATCH2=/\d\d/,MATCHER_EXPRESSIONS={mm:[MATCH_1_2,DATE_UNIT.MINUTES],HH:[MATCH_1_2,DATE_UNIT.HOURS],D:[MATCH_1_2,DATE_UNIT.DAY],DD:[MATCH2,DATE_UNIT.DAY],M:[MATCH_1_2,DATE_UNIT.MONTH],MM:[MATCH2,DATE_UNIT.MONTH],YYYY:[/\d{4}/,DATE_UNIT.YEAR]},MATCHER_DATE_PARTS=["YYYY","MM","M","DD","D"],date_DateUtils=function(){function DateUtils1(){_classCallCheck(this,DateUtils1)}return _createClass(DateUtils1,null,[{key:"format",value:function format(date,_format){var dateObject=this.getValidDate(date);if(!dateObject)return"";var upperCaseFormat=_format&&_format.toUpperCase(),year=dateObject.getFullYear(),month=dateObject.getMonth()+1,day=dateObject.getDate(),displayMonth=month<10?"0".concat(month):month,displayDay=day<10?"0".concat(day):day;switch(upperCaseFormat){case"YYYY-MM-DD HH:MM:SS":var hours=dateObject.getHours(),minutes=dateObject.getMinutes(),seconds=dateObject.getSeconds();return"".concat(year,"-").concat(displayMonth,"-").concat(displayDay," ").concat(hours<10?"0".concat(hours):hours,":").concat(minutes<10?"0".concat(minutes):minutes,":").concat(seconds<10?"0".concat(seconds):seconds);case"YYYY-MM-DD HH:MM":var _hours=dateObject.getHours(),_minutes=dateObject.getMinutes();return"".concat(year,"-").concat(displayMonth,"-").concat(displayDay," ").concat(_hours<10?"0".concat(_hours):_hours,":").concat(_minutes<10?"0".concat(_minutes):_minutes);default:return"".concat(year,"-").concat(displayMonth,"-").concat(displayDay)}}},{key:"getDateByGranularity",value:function getDateByGranularity(date,granularity){var dateObject=this.getValidDate(date);if(!dateObject)return"";var upperCaseGranularity=granularity&&granularity.toUpperCase(),year=dateObject.getFullYear();switch(upperCaseGranularity){case"YEAR":return"".concat(year);case"QUARTAR":var quarter=MONTH_QUARTERS[dateObject.getMonth()];return"".concat(year,"-Q").concat(quarter);case"MONTH":var _month=dateObject.getMonth()+1;return"".concat(year,"-").concat(_month<10?"0".concat(_month):_month);case"WEEK":var weekNum=dateObject.getDay(),startOfWeekDay=dateObject.getDate()+(0===weekNum?-6:1-weekNum),startOfWeekDate=new Date(year,dateObject.getMonth(),startOfWeekDay),_month2=startOfWeekDate.getMonth()+1,day=startOfWeekDate.getDate();return"".concat(startOfWeekDate.getFullYear(),"-").concat(_month2<10?"0".concat(_month2):_month2,"-").concat(day<10?"0".concat(day):day);case"DAY":var _month3=dateObject.getMonth()+1,_day=dateObject.getDate();return"".concat(year,"-").concat(_month3<10?"0".concat(_month3):_month3,"-").concat(_day<10?"0".concat(_day):_day);default:return""}}},{key:"isValidDateObject",value:function isValidDateObject(dateObject){return dateObject instanceof Date&&!isNaN(dateObject.getTime())}},{key:"getValidDate",value:function getValidDate(date){if(!date)return null;var isDateTypeString="string"==typeof date,dateString=date,dateObject=date;return(isDateTypeString&&(dateObject=new Date(dateString.split(" ").length>1||dateString.includes("T")?date:dateString="".concat(date," 00:00:00"))),this.isValidDateObject(dateObject))?dateObject:isDateTypeString&&(dateObject=new Date(dateString.replace(/-/g,"/")),this.isValidDateObject(dateObject))?dateObject:null}},{key:"parseDateWithFormat",value:function parseDateWithFormat(dateString,format){try{var _parser=this.makeParser(format)(dateString),year=_parser.year,month=_parser.month,day=_parser.day,hours=_parser.hours,minutes=_parser.minutes;year||(year=new Date().getFullYear());var dateObj=new Date("".concat(year,"-").concat(month,"-").concat(day," ").concat(hours||"00",":").concat(minutes||"00"));if(!this.isValidDateObject(dateObj))return this.getValidDate(dateString);return dateObj}catch(err){return this.getValidDate(dateString)}}},{key:"makeParser",value:function makeParser(format){var tokens=(format||column_DEFAULT_DATE_FORMAT).match(FORMATTING_TOKENS),formatPartsLength=tokens.length;return function(dateString){for(var dateParts=dateString.split(" "),datePart=dateParts[0]||"",timePart=dateParts[1]||"",time={},i=0;i<formatPartsLength;i++){var token=tokens[i],parseTo=MATCHER_EXPRESSIONS[token];if(parseTo){var regex=parseTo[0],parserType=parseTo[1];if(parserType){var isDatePart=MATCHER_DATE_PARTS.includes(token),match=isDatePart?regex.exec(datePart):regex.exec(timePart);if(match){var value=match[0];time[parserType]=value,isDatePart?datePart=datePart.replace(value,""):timePart=timePart.replace(value,"")}}}}return time}}}]),DateUtils1}(),collaborator_getCollaboratorsNames=function getCollaboratorsNames1(emails,collaborators){if(!Array.isArray(emails)||!Array.isArray(collaborators))return[];var emailCollaboratorMap={};return collaborators.forEach(function(collaborator){emailCollaboratorMap[collaborator.email]=collaborator}),emails.map(function(email){var collaborator=emailCollaboratorMap[email];return collaborator&&collaborator.name}).filter(Boolean)},collaborator_getCollaboratorsName=function getCollaboratorsName1(collaborators,emails){var collaboratorsNames=collaborator_getCollaboratorsNames(emails,collaborators);return Array.isArray(collaboratorsNames)&&0!==collaboratorsNames.length?collaboratorsNames.join(", "):""},dayjs_min=__webpack_require__("./node_modules/dayjs/dayjs.min.js"),dayjs_min_default=__webpack_require__.n(dayjs_min),date_getDateDisplayString=function getDateDisplayString1(date,format){if(!date||"string"!=typeof date)return"";var dateObj=dayjs_min_default()(date);if(!dateObj.isValid())return date;switch(format){case"D/M/YYYY":case"DD/MM/YYYY":var formatValueList=dateObj.format("YYYY-MM-DD").split("-");return"".concat(formatValueList[2],"/").concat(formatValueList[1],"/").concat(formatValueList[0]);case"D/M/YYYY HH:mm":case"DD/MM/YYYY HH:mm":var formatValuesList=dateObj.format("YYYY-MM-DD HH:mm").split(" "),formatDateList=formatValuesList[0].split("-");return"".concat(formatDateList[2],"/").concat(formatDateList[1],"/").concat(formatDateList[0]," ").concat(formatValuesList[1]);case"M/D/YYYY":return dateObj.format("M/D/YYYY");case"M/D/YYYY HH:mm":return dateObj.format("M/D/YYYY HH:mm");case"YYYY-MM-DD":default:return dateObj.format("YYYY-MM-DD");case"YYYY-MM-DD HH:mm":return dateObj.format("YYYY-MM-DD HH:mm");case"YYYY-MM-DD HH:mm:ss":return dateObj.format("YYYY-MM-DD HH:mm:ss");case"DD.MM.YYYY":return dateObj.format("DD.MM.YYYY");case"DD.MM.YYYY HH:mm":return dateObj.format("DD.MM.YYYY HH:mm")}},getMathRoundedDuration=function getMathRoundedDuration(num,duration_format){var decimalDigits=DURATION_DECIMAL_DIGITS[duration_format];if(decimalDigits<1)return num;var ratio=Math.pow(10,decimalDigits);return Math.round(num*ratio)/ratio},getDurationDecimalSuffix=function getDurationDecimalSuffix(duration_format,decimal){if(duration_format===column_DURATION_FORMATS_MAP.H_MM_SS_S)return 0===decimal?".0":"";if(duration_format===column_DURATION_FORMATS_MAP.H_MM_SS_SS)return 0===decimal?".00":decimal<10?"0":"";if(duration_format===column_DURATION_FORMATS_MAP.H_MM_SS_SSS){if(0===decimal)return".000";if(decimal<10)return"00";if(decimal<100)return"0"}return""},duration_getDurationDisplayString=function getDurationDisplayString1(duration,formats){if(!duration&&0!==duration)return"";var duration_format=(formats||{}).duration_format;if(duration_format=duration_format||column_DURATION_FORMATS_MAP.H_MM,0>column_DURATION_FORMATS.findIndex(function(format){return format.type===duration_format}))return"";if(0===duration)return DURATION_ZERO_DISPLAY[duration_format];var includeDecimal=duration_format.indexOf(".")>-1,positiveValue=Math.abs(duration);includeDecimal||(positiveValue=Math.round(positiveValue));var decimalParts=String(positiveValue=getMathRoundedDuration(positiveValue,duration_format)).split("."),decimalPartsLen=decimalParts.length,decimal=0;decimalPartsLen>1&&(decimal=(decimal=decimalParts[decimalPartsLen-1])?decimal-0:0);var decimalDigits=DURATION_DECIMAL_DIGITS[duration_format],decimalSuffix=getDurationDecimalSuffix(duration_format,decimal),hours=parseInt(positiveValue/3600),minutes=parseInt((positiveValue-3600*hours)/60),displayString=duration<0?"-":"";if(duration_format===column_DURATION_FORMATS_MAP.H_MM)return displayString+"".concat(hours,":").concat(minutes>9?minutes:"0".concat(minutes));var seconds=Number.parseFloat((positiveValue-3600*hours-60*minutes).toFixed(decimalDigits));return minutes=minutes>9?minutes:"0".concat(minutes),seconds=seconds>9?seconds:"0".concat(seconds),displayString+="".concat(hours,":").concat(minutes,":").concat(seconds).concat(decimalSuffix)},geolocation_getGeolocationDisplayString=function getGeolocationDisplayString1(loc,formats){var _ref=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},_ref$isBaiduMap=_ref.isBaiduMap,_ref$hyphen=_ref.hyphen,hyphen=void 0===_ref$hyphen?"":_ref$hyphen;if(!loc)return"";switch((formats||{}).geo_format){case"lng_lat":var lng=loc.lng,lat=loc.lat;if(!lng&&0!==lng||!lat&&0!==lat)return"";return void 0===_ref$isBaiduMap||_ref$isBaiduMap?"".concat(lng,", ").concat(lat):"".concat(lat,", ").concat(lng);case"country_region":return loc.country_region||"";case"province":return loc.province||"";case"province_city":var _province=loc.province,city=loc.city;return"".concat(_province||"").concat(hyphen).concat(city||"").trim();case"province_city_district":var _province2=loc.province,_city=loc.city,district=loc.district;return"".concat(_province2||"").concat(hyphen).concat(_city||"").concat(hyphen).concat(district||"").trim();case"map_selection":var address=loc.address,title=loc.title;return"".concat(address||"").concat(hyphen).concat(title||"").trim();default:var _province3=loc.province,_city2=loc.city,_district=loc.district,detail=loc.detail;if(!_province3&&!_city2&&!_district&&!detail)return"";return"".concat(_province3||"").concat(hyphen).concat(_city2||"").concat(hyphen).concat(_district||"").concat(hyphen).concat(detail||"").trim()}},digitLength=function digitLength(num){var eSplit=num.toString().split(/[eE]/),len=(eSplit[0].split(".")[1]||"").length-+(eSplit[1]||0);return len>0?len:0},strip=function strip(num){var precision=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15;return+parseFloat(Number(num).toPrecision(precision))},float2Fixed=function float2Fixed(num){if(-1===num.toString().indexOf("e"))return Number(num.toString().replace(".",""));var dLen=digitLength(num);return dLen>0?strip(Number(num)*Math.pow(10,dLen)):Number(num)},times=function times(numLeft,numRight){return float2Fixed(numLeft)*float2Fixed(numRight)/Math.pow(10,digitLength(numLeft)+digitLength(numRight))},minus=function minus(numLeft,numRight){var baseNum=Math.pow(10,Math.max(digitLength(numLeft),digitLength(numRight)));return(times(numLeft,baseNum)-times(numRight,baseNum))/baseNum},isNumberEqual=function isNumberEqual(leftNumber,rightNumber){return leftNumber===rightNumber||1e-5>Math.abs(leftNumber-rightNumber)},round=function round(number){var decimalDigits=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0===decimalDigits)return Math.round(number);var offsets=Math.pow(10,decimalDigits),fixedNum=number*offsets;return decimalDigits>0&&(fixedNum=Number.parseFloat(fixedNum.toFixed(1))),Math.round(fixedNum)/offsets},separatorMap={comma:",",dot:".",no:"",space:" "},removeZerosFromEnd=function removeZerosFromEnd(sNumber){return"string"!=typeof sNumber?"":sNumber.endsWith("0")?sNumber.replace(/(?:\.0*|(\.\d+?)0+)$/,"$1"):sNumber},getDecimalDigitsFromNumber=function getDecimalDigitsFromNumber(number){if(Number.isInteger(number))return 0;var decimalPart=String(number).split(".")[1],digitsLength=decimalPart?decimalPart.length:8;return digitsLength>8?8:digitsLength},toThousands=function toThousands(number,_ref2){var formats=_ref2.formats,_ref2$isCurrency=_ref2.isCurrency,_ref3=formats||{},_ref3$decimal=_ref3.decimal,_ref3$thousands=_ref3.thousands,_ref3$precision=_ref3.precision,precision=void 0===_ref3$precision?2:_ref3$precision,_ref3$enable_precisio=_ref3.enable_precision,enable_precision=void 0!==_ref3$enable_precisio&&_ref3$enable_precisio;if(String(number).includes("e")){if(number<1&&number>-1){var numericString=number.toFixed(enable_precision?precision:8);return(enable_precision||(numericString=removeZerosFromEnd(numericString)),0===parseFloat(numericString)&&numericString.startsWith("-"))?numericString.substring(1):numericString}return String(number)}var decimalString=separatorMap[void 0===_ref3$decimal?"dot":_ref3$decimal],thousandsString=separatorMap[void 0===_ref3$thousands?"no":_ref3$thousands],decimalDigits=enable_precision?precision:getDecimalDigitsFromNumber(number),floatNumber=parseFloat(round(number,decimalDigits).toFixed(decimalDigits)),isMinus=floatNumber<0,integer=Math.trunc(floatNumber),decimalPart=String(Math.abs(minus(floatNumber,integer)).toFixed(decimalDigits)).slice(1);enable_precision||(decimalPart=removeZerosFromEnd(decimalPart)),(void 0===_ref2$isCurrency||_ref2$isCurrency)&&!enable_precision&&(decimalPart=2===decimalPart.length?decimalPart=decimalPart.padEnd(3,"0"):(decimalPart.substring(0,3)||".").padEnd(3,"0")),decimalPart=decimalPart.replace(/./,decimalString);var integerNumbers=[],counter=0;integer=Math.abs(integer).toString();for(var i=integer.length-1;i>-1;i--)counter+=1,integerNumbers.unshift(integer[i]),counter%3||0===i||integerNumbers.unshift(thousandsString);return"".concat(isMinus?"-":"").concat(integerNumbers.join("")).concat(decimalPart)},number_getNumberDisplayString=function getNumberDisplayString1(number,formats){var type=Object.prototype.toString.call(number);if("[object Number]"!==type)return"[object String]"===type&&number.startsWith("#")?number:"";if(isNaN(number)||number===1/0||number===-1/0)return String(number);var _ref4$format=(formats||{}).format;switch(void 0===_ref4$format?"number":_ref4$format){case"number":return toThousands(number,{formats:formats,isCurrency:!1});case"percent":return"".concat(toThousands(Number.parseFloat((100*number).toFixed(8)),{formats:formats,isCurrency:!1}),"%");case"yuan":return"￥".concat(toThousands(number,{formats:formats}));case"dollar":return"$".concat(toThousands(number,{formats:formats}));case"euro":return"€".concat(toThousands(number,{formats:formats}));case"duration":return duration_getDurationDisplayString(number,formats);case"custom_currency":if("after"===formats.currency_symbol_position)return"".concat(toThousands(number,{formats:formats})).concat(formats.currency_symbol||"");return"".concat(formats.currency_symbol||"").concat(toThousands(number,{formats:formats}));default:return String(number)}},replaceNumberNotAllowInput=function replaceNumberNotAllowInput(sNum,format,currencySymbol){if(!sNum)return"";var fixedSNum=sNum.replace(/。/g,".");switch(format){case"percent":return fixedSNum.replace(/[^.-\d,%]/g,"");case"yuan":return fixedSNum.replace(/[^.-\d¥￥,]/g,"");case"dollar":return fixedSNum.replace(/[^.-\d$,]/g,"");case"euro":return fixedSNum.replace(/[^.-\d€,]/g,"");case"custom_currency":var reg=RegExp("[^.-d"+currencySymbol+",]","g");return fixedSNum.replace(reg,"");default:return fixedSNum.replace(/[^.-\d,]/g,"")}},option_getColumnOptions=function getColumnOptions(column){return column&&column.data&&Array.isArray(column.data.options)?column.data.options:[]},option_getOptionName=function getOptionName1(options,targetOptionId){if(!targetOptionId||!Array.isArray(options))return"";var targetOption=Array.isArray(options)&&targetOptionId?options.find(function(option){return option.id===targetOptionId}):null;return targetOption?targetOption.name:""},option_getMultipleOptionName=function getMultipleOptionName1(options,targetOptionsIds){if(!Array.isArray(targetOptionsIds)||!Array.isArray(options))return"";var selectedOptions=options.filter(function(option){return targetOptionsIds.includes(option.id)});return 0===selectedOptions.length?"":selectedOptions.map(function(option){return option.name}).join(", ")},department_getDepartmentName=function getDepartmentName1(departments,id){if(!id||!departments||0===departments.length)return"";var targetDepartment=departments.find(function(department){return department.id===id});return targetDepartment&&targetDepartment.name||""},ARRAY_VALUE_COLUMN_TYPES=[cell_type_CellType.IMAGE,cell_type_CellType.FILE,cell_type_CellType.MULTIPLE_SELECT,cell_type_CellType.COLLABORATOR],_getArrayColumnCellValue=function _getArrayColumnCellValue(cellValue,column,_ref){var collaborators=_ref.collaborators,isArchiveView=_ref.isArchiveView;if(!Array.isArray(cellValue)||0===cellValue.length||!column.data)return"";var key=column.key,data=column.data,array_type=data.array_type,newColumn={key:key,type:array_type,data:data.array_data};return ARRAY_VALUE_COLUMN_TYPES.includes(array_type)?getCellValueStringResult(_defineProperty({},key,cellValue),newColumn,{collaborators:collaborators}):array_type===CellType.STRING?(newColumn.type=CellType.TEXT,cellValue.map(function(item){return getCellValueStringResult(_defineProperty({},key,item),newColumn)}).filter(Boolean).join(", ")):array_type===CellType.BOOL?(newColumn.type=CellType.CHECKBOX,cellValue.map(function(item){return getCellValueStringResult(_defineProperty({},key,item),newColumn)}).filter(Boolean).join(", ")):cellValue.map(function(item){return getCellValueStringResult(_defineProperty({},key,item),newColumn,{collaborators:collaborators,isArchiveView:isArchiveView})}).filter(function(item){return item||0===item}).join(", ")},cell_value_getFormulaDisplayString=function getFormulaDisplayString1(cellValue,columnData){if(!columnData)return"";var result_type=columnData.result_type;if(result_type===formula_FORMULA_RESULT_TYPE.NUMBER)return number_getNumberDisplayString(cellValue,columnData);if(result_type===formula_FORMULA_RESULT_TYPE.DATE)return date_getDateDisplayString(cellValue,columnData.format);if(result_type===formula_FORMULA_RESULT_TYPE.ARRAY){var array_type=columnData.array_type,array_data=columnData.array_data;return array_type?COLLABORATOR_COLUMN_TYPES.includes(array_type)?cellValue:!ARRAY_VALUE_COLUMN_TYPES.includes(array_type)&&Array.isArray(cellValue)?cellValue.map(function(val){return getCellValueDisplayString({FORMULA_ARRAY:val},array_type,"FORMULA_ARRAY",{data:array_data})}).join(", "):getCellValueDisplayString({FORMULA_ARRAY:cellValue},array_type,"FORMULA_ARRAY",{data:array_data}):""}return"[object Boolean]"===Object.prototype.toString.call(cellValue)?String(cellValue):cellValue},getCellValueDisplayString=function getCellValueDisplayString(row,type,key){var _ref2=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},data=_ref2.data,_ref2$formulaRows=_ref2.formulaRows,formulaRows=void 0===_ref2$formulaRows?{}:_ref2$formulaRows,_ref2$collaborators=_ref2.collaborators,collaborators=void 0===_ref2$collaborators?[]:_ref2$collaborators,_ref2$departments=_ref2.departments,_ref2$isBaiduMap=_ref2.isBaiduMap,_ref2$geolocationHyph=_ref2.geolocationHyphen;if(!row)return"";var cellValue=row[key];switch(type){case cell_type_CellType.LONG_TEXT:return cellValue&&cellValue.text||"";case cell_type_CellType.NUMBER:return number_getNumberDisplayString(cellValue,data);case cell_type_CellType.DURATION:return duration_getDurationDisplayString(cellValue,data);case cell_type_CellType.GEOLOCATION:return geolocation_getGeolocationDisplayString(cellValue,data,{isBaiduMap:void 0===_ref2$isBaiduMap||_ref2$isBaiduMap,hyphen:void 0===_ref2$geolocationHyph?"":_ref2$geolocationHyph});case cell_type_CellType.SINGLE_SELECT:if(!data)return"";return option_getOptionName(data.options,cellValue);case cell_type_CellType.MULTIPLE_SELECT:if(!data)return"";return option_getMultipleOptionName(data.options,cellValue);case cell_type_CellType.DATE:var _ref3$format=(data||{}).format;return date_getDateDisplayString(cellValue,void 0===_ref3$format?column_DEFAULT_DATE_FORMAT:_ref3$format);case cell_type_CellType.CTIME:case cell_type_CellType.MTIME:return date_DateUtils.format(cellValue,"YYYY-MM-DD HH:MM:SS");case cell_type_CellType.COLLABORATOR:return collaborator_getCollaboratorsName(collaborators,cellValue);case cell_type_CellType.DEPARTMENT_SINGLE_SELECT:return department_getDepartmentName(void 0===_ref2$departments?[]:_ref2$departments,cellValue);case cell_type_CellType.CREATOR:case cell_type_CellType.LAST_MODIFIER:return"anonymous"===cellValue?cellValue:collaborator_getCollaboratorsName(collaborators,[cellValue]);case cell_type_CellType.FORMULA:case cell_type_CellType.LINK_FORMULA:var formulaRow=formulaRows&&formulaRows[row._id];if(!formulaRow)return"";return cell_value_getFormulaDisplayString(formulaRow[key],data);case cell_type_CellType.DIGITAL_SIGN:return cellValue&&cellValue.sign_image_url||"";default:if(cellValue||"boolean"==typeof cellValue)return String(cellValue);return""}},getCellValueStringResult=function getCellValueStringResult(row,column){var _ref4=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},_ref4$formulaRows=_ref4.formulaRows,formulaRows=void 0===_ref4$formulaRows?{}:_ref4$formulaRows,_ref4$collaborators=_ref4.collaborators,collaborators=void 0===_ref4$collaborators?[]:_ref4$collaborators,_ref4$departments=_ref4.departments,_ref4$isArchiveView=_ref4.isArchiveView,isArchiveView=void 0!==_ref4$isArchiveView&&_ref4$isArchiveView;if(!row||!column)return"";var key=column.key,type=column.type,data=column.data,cellValue=row[key];switch(type){case CellType.TEXT:case CellType.EMAIL:case CellType.URL:case CellType.AUTO_NUMBER:return cellValue||"";case CellType.RATE:return cellValue?String(cellValue):"";case CellType.CHECKBOX:if("boolean"==typeof cellValue)return String(cellValue);return"true"===cellValue?"true":"false";case CellType.LONG_TEXT:return isArchiveView&&(cellValue={text:cellValue}),getLongtextDisplayString(cellValue);case CellType.NUMBER:return getNumberDisplayString(cellValue,data);case CellType.DURATION:return getDurationDisplayString(cellValue,data);case CellType.GEOLOCATION:return getGeolocationDisplayString(cellValue,data);case CellType.SINGLE_SELECT:if(!data)return"";return getOptionName(data.options,cellValue);case CellType.MULTIPLE_SELECT:if(!data)return"";return getMultipleOptionName(data.options,cellValue);case CellType.DATE:var _ref5$format=(data||{}).format,format=void 0===_ref5$format?DEFAULT_DATE_FORMAT:_ref5$format;return getDateDisplayString(cellValue,"D/M/YYYY"===format?format.replace(/D\/M\/YYYY/,"DD/MM/YYYY"):format);case CellType.CTIME:case CellType.MTIME:return DateUtils.format(cellValue,"YYYY-MM-DD HH:MM:SS");case CellType.COLLABORATOR:return getCollaboratorsName(collaborators,cellValue);case CellType.DEPARTMENT_SINGLE_SELECT:return getDepartmentName(void 0===_ref4$departments?[]:_ref4$departments,cellValue);case CellType.CREATOR:case CellType.LAST_MODIFIER:return"anonymous"===cellValue?cellValue:getCollaboratorsName(collaborators,[cellValue]);case CellType.LINK:var computedCellValue=cellValue;if(!isArchiveView){var formulaRow=formulaRows&&formulaRows[row._id];computedCellValue=formulaRow&&formulaRow[key]}if(!Array.isArray(computedCellValue)||0===computedCellValue.length)return"";var displayCellValue=computedCellValue.map(function(linked){return linked.display_value});if(displayCellValue.some(function(item){return Array.isArray(item)}))return displayCellValue.map(function(item){return _getArrayColumnCellValue(item,column,{collaborators:collaborators,isArchiveView:isArchiveView})}).filter(Boolean).join(", ");return _getArrayColumnCellValue(displayCellValue,column,{collaborators:collaborators});case CellType.FORMULA:case CellType.LINK_FORMULA:var _computedCellValue=cellValue;if(!isArchiveView){var _formulaRow=formulaRows&&formulaRows[row._id];_computedCellValue=_formulaRow&&_formulaRow[key]}var result_type=data.result_type;if(result_type===FORMULA_RESULT_TYPE.STRING)return _computedCellValue||"";if(result_type===FORMULA_RESULT_TYPE.BOOL){if("boolean"==typeof _computedCellValue)return String(_computedCellValue);return"true"===_computedCellValue?"true":"false"}if(result_type===FORMULA_RESULT_TYPE.NUMBER)return getNumberDisplayString(_computedCellValue,data);if(result_type===FORMULA_RESULT_TYPE.DATE)return getDateDisplayString(_computedCellValue,data.format);return _getArrayColumnCellValue(_computedCellValue,column,{collaborators:collaborators,isArchiveView:isArchiveView});case CellType.FILE:case CellType.IMAGE:case CellType.DIGITAL_SIGN:case CellType.BUTTON:return"";default:return cellValue?String(cellValue):""}},getColumnType=function getColumnType(column){var type=column.type,data=column.data;if(formula_FORMULA_COLUMN_TYPES_MAP[type]){var _ref=data||{},result_type=_ref.result_type,array_type=_ref.array_type;return result_type===formula_FORMULA_RESULT_TYPE.ARRAY?array_type:result_type}return type===cell_type_CellType.LINK?(data||{}).array_type:type},number_getFloatNumber=function getFloatNumber(sNumber,format){if(!sNumber&&0!==sNumber)return null;if("number"==typeof sNumber)return sNumber;if("string"!=typeof sNumber)return null;var parsedNum=parseFloat(sNumber.replace(/[^.-\d]/g,""));return"percent"!==format||isNaN(parsedNum)?isNaN(parsedNum)?null:parsedNum:times(float2Fixed(parsedNum)/float2Fixed(100),strip(Math.pow(10,digitLength(100)-digitLength(parsedNum))))},formatStringToNumber=function formatStringToNumber(sNum,formats){var _ref=formats||{},format=_ref.format,decimal=_ref.decimal,thousands=_ref.thousands,enable_precision=_ref.enable_precision,precision=_ref.precision,value=sNum;if(decimal&&thousands&&"comma"===decimal&&(value="dot"===thousands?(value=(value=value.replace(/,/,"@")).replace(/\./g,",")).replace(/@/,"."):(value=value.replace(/\./g,"")).replace(/,/,".")),value=number_getFloatNumber(value,format),enable_precision&&value){var fixedPrecision="percent"===format?precision+2:precision;value=parseFloat(round(value,fixedPrecision).toFixed(fixedPrecision))}return value},esm_typeof=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/typeof.js"),date_isDateColumn=function isDateColumn1(column){return column_DATE_COLUMN_OPTIONS.includes(getColumnType(column))},TERM_TYPE_MAP={NUMBER:"number",STRING:"string",BOOLEAN:"boolean",ARRAY:"array"},TEXT_COLUMN_TYPES=[cell_type_CellType.TEXT,cell_type_CellType.STRING],CHECK_EMPTY_PREDICATES=[filter_predicate_FILTER_PREDICATE_TYPE.EMPTY,filter_predicate_FILTER_PREDICATE_TYPE.NOT_EMPTY],PREDICATES_REQUIRE_ARRAY_TERM=[filter_predicate_FILTER_PREDICATE_TYPE.IS_ANY_OF,filter_predicate_FILTER_PREDICATE_TYPE.IS_NONE_OF],DATE_MODIFIERS_REQUIRE_TERM=[filter_modifier_FILTER_TERM_MODIFIER_TYPE.NUMBER_OF_DAYS_AGO,filter_modifier_FILTER_TERM_MODIFIER_TYPE.NUMBER_OF_DAYS_FROM_NOW,filter_modifier_FILTER_TERM_MODIFIER_TYPE.THE_NEXT_NUMBERS_OF_DAYS,filter_modifier_FILTER_TERM_MODIFIER_TYPE.THE_PAST_NUMBERS_OF_DAYS,filter_modifier_FILTER_TERM_MODIFIER_TYPE.EXACT_DATE],MODIFIERS_REQUIRE_NUMERIC_TERM=[filter_modifier_FILTER_TERM_MODIFIER_TYPE.NUMBER_OF_DAYS_AGO,filter_modifier_FILTER_TERM_MODIFIER_TYPE.NUMBER_OF_DAYS_FROM_NOW,filter_modifier_FILTER_TERM_MODIFIER_TYPE.THE_NEXT_NUMBERS_OF_DAYS,filter_modifier_FILTER_TERM_MODIFIER_TYPE.THE_PAST_NUMBERS_OF_DAYS],filter_ValidateFilter=function(){function ValidateFilter(){_classCallCheck(this,ValidateFilter)}return _createClass(ValidateFilter,null,[{key:"validate",value:function validate(filter,columns){var isValidTerm=!(arguments.length>2)||void 0===arguments[2]||arguments[2],column_key=filter.column_key,filter_predicate=filter.filter_predicate,filter_term_modifier=filter.filter_term_modifier,filter_term=filter.filter_term,column_error_message=this.validateColumn(column_key,columns).error_message;if(column_error_message)return{error_message:column_error_message};var filterColumn=columns.find(function(column){return column.key===column_key}),predicate_error_message=this.validatePredicate(filter_predicate,filterColumn).error_message;if(predicate_error_message)return{error_message:predicate_error_message};if(this.isFilterOnlyWithPredicate(filter_predicate,filterColumn))return{error_message:null};var modifier_error_message=this.validateModifier(filter_term_modifier,filter_predicate,filterColumn).error_message;if(modifier_error_message)return{error_message:modifier_error_message};if(this.isFilterOnlyWithModifier(filter_term_modifier,filterColumn))return{error_message:null};if(isValidTerm){var term_error_message=this.validateTerm(filter_term,filter_predicate,filter_term_modifier,filterColumn).error_message;if(term_error_message)return{error_message:term_error_message}}return{error_message:null}}},{key:"validateColumn",value:function validateColumn(column_key,columns){if(!column_key)return{error_message:filter_FILTER_ERR_MSG.INCOMPLETE_FILTER};var filterColumn=columns.find(function(column){return column.key===column_key});return filterColumn?this.isValidColumnType(filterColumn)?{error_message:null}:{error_message:filter_FILTER_ERR_MSG.COLUMN_NOT_SUPPORTED}:{error_message:filter_FILTER_ERR_MSG.COLUMN_MISSING}}},{key:"validatePredicate",value:function validatePredicate(predicate,filterColumn){if(!predicate)return{error_message:filter_FILTER_ERR_MSG.INCOMPLETE_FILTER};var columnType=filterColumn.type,data=filterColumn.data,predicateList=FILTER_COLUMN_OPTIONS[columnType].filterPredicateList;if(formula_FORMULA_COLUMN_TYPES_MAP[columnType]||columnType===cell_type_CellType.LINK){var result_type=data.result_type;return result_type===formula_FORMULA_RESULT_TYPE.ARRAY?this.validatePredicateWithArrayType(predicate,filterColumn):this.validatePredicate(predicate,{type:result_type})}return predicateList.includes(predicate)?{error_message:null}:{error_message:filter_FILTER_ERR_MSG.UNMATCHED_PREDICATE}}},{key:"validatePredicateWithArrayType",value:function validatePredicateWithArrayType(predicate,filterColumn){var array_type=filterColumn.data.array_type;return array_type===cell_type_CellType.CHECKBOX||array_type===cell_type_CellType.BOOL?this.validatePredicate(predicate,{type:cell_type_CellType.CHECKBOX}):!!CHECK_EMPTY_PREDICATES.includes(predicate)||(array_type===cell_type_CellType.SINGLE_SELECT?this.validatePredicate(predicate,{type:cell_type_CellType.MULTIPLE_SELECT}):COLLABORATOR_COLUMN_TYPES.includes(array_type)?this.validatePredicate(predicate,{type:cell_type_CellType.COLLABORATOR}):this.validatePredicate(predicate,{type:array_type}))}},{key:"isFilterOnlyWithPredicate",value:function isFilterOnlyWithPredicate(predicate,filterColumn){if(CHECK_EMPTY_PREDICATES.includes(predicate))return!0;var columnType=filterColumn.type,data=filterColumn.data;if(formula_FORMULA_COLUMN_TYPES_MAP[columnType]||columnType===cell_type_CellType.LINK){var result_type=data.result_type,array_type=data.array_type;return result_type===formula_FORMULA_RESULT_TYPE.ARRAY?this.isFilterOnlyWithPredicate(predicate,{type:array_type}):this.isFilterOnlyWithPredicate(predicate,{type:result_type})}var IS_CURRENT_USER_ID=filter_predicate_FILTER_PREDICATE_TYPE.IS_CURRENT_USER_ID,INCLUDE_ME=filter_predicate_FILTER_PREDICATE_TYPE.INCLUDE_ME;return!!(predicate===IS_CURRENT_USER_ID&&TEXT_COLUMN_TYPES.includes(columnType)||predicate===INCLUDE_ME&&COLLABORATOR_COLUMN_TYPES.includes(columnType))}},{key:"validateModifier",value:function validateModifier(modifier,predicate,filterColumn){if(!date_isDateColumn(filterColumn))return{error_message:null};if(!modifier)return{error_message:filter_FILTER_ERR_MSG.INCOMPLETE_FILTER};if(predicate===filter_predicate_FILTER_PREDICATE_TYPE.IS_WITHIN){if(filterTermModifierIsWithin.includes(modifier))return{error_message:null}}else if(filterTermModifierNotWithin.includes(modifier))return{error_message:null};return{error_message:filter_FILTER_ERR_MSG.UNMATCHED_MODIFIER}}},{key:"isFilterOnlyWithModifier",value:function isFilterOnlyWithModifier(modifier,filterColumn){return!!date_isDateColumn(filterColumn)&&!DATE_MODIFIERS_REQUIRE_TERM.includes(modifier)}},{key:"validateTerm",value:function validateTerm(term,predicate,modifier,filterColumn){return this.isTermMissing(term)?{error_message:filter_FILTER_ERR_MSG.INCOMPLETE_FILTER}:this.isValidTerm(term,predicate,modifier,filterColumn)?{error_message:null}:{error_message:filter_FILTER_ERR_MSG.INVALID_TERM}}},{key:"isTermMissing",value:function isTermMissing(term){return!term&&0!==term&&!1!==term||Array.isArray(term)&&0===term.length}},{key:"isValidTerm",value:function isValidTerm(term,predicate,modifier,filterColumn){switch(filterColumn.type){case cell_type_CellType.TEXT:case cell_type_CellType.GEOLOCATION:case cell_type_CellType.AUTO_NUMBER:case cell_type_CellType.EMAIL:case cell_type_CellType.URL:case cell_type_CellType.STRING:return this.isValidTermType(term,TERM_TYPE_MAP.STRING);case cell_type_CellType.SINGLE_SELECT:var options=option_getColumnOptions(filterColumn);if(PREDICATES_REQUIRE_ARRAY_TERM.includes(predicate)){if(!this.isValidTermType(term,TERM_TYPE_MAP.ARRAY))return!1;return this.isValidSelectedOptions(term,options)}if(!this.isValidTermType(term,TERM_TYPE_MAP.STRING))return!1;return!!options.find(function(option){return term===option.id});case cell_type_CellType.NUMBER:case cell_type_CellType.DURATION:case cell_type_CellType.RATE:return this.isValidTermType(term,TERM_TYPE_MAP.NUMBER);case cell_type_CellType.CHECKBOX:case cell_type_CellType.BOOL:return this.isValidTermType(term,TERM_TYPE_MAP.BOOLEAN);case cell_type_CellType.COLLABORATOR:case cell_type_CellType.CREATOR:case cell_type_CellType.LAST_MODIFIER:return this.isValidTermType(term,TERM_TYPE_MAP.ARRAY);case cell_type_CellType.DEPARTMENT_SINGLE_SELECT:if(PREDICATES_REQUIRE_ARRAY_TERM.includes(predicate))return this.isValidTermType(term,TERM_TYPE_MAP.ARRAY);if([column_DEPARTMENT_SELECT_RANGE_MAP.CURRENT_USER_DEPARTMENT,column_DEPARTMENT_SELECT_RANGE_MAP.CURRENT_USER_DEPARTMENT_AND_SUB].includes(term))return!0;return this.isValidTermType(term,TERM_TYPE_MAP.NUMBER);case cell_type_CellType.MULTIPLE_SELECT:if(!this.isValidTermType(term,TERM_TYPE_MAP.ARRAY))return!1;var _options=option_getColumnOptions(filterColumn);return this.isValidSelectedOptions(term,_options);case cell_type_CellType.DATE:case cell_type_CellType.CTIME:case cell_type_CellType.MTIME:if(MODIFIERS_REQUIRE_NUMERIC_TERM.includes(modifier))return this.isValidTermType(term,TERM_TYPE_MAP.NUMBER);return this.isValidTermType(term,TERM_TYPE_MAP.STRING);case cell_type_CellType.FORMULA:case cell_type_CellType.LINK_FORMULA:var result_type=filterColumn.data.result_type;if(result_type===formula_FORMULA_RESULT_TYPE.ARRAY)return this.isValidTermWithArrayType(term,predicate,modifier,filterColumn);return this.isValidTerm(term,predicate,modifier,{type:result_type});case cell_type_CellType.LINK:return this.isValidTermWithArrayType(term,predicate,modifier,filterColumn);default:return!1}}},{key:"isValidTermType",value:function isValidTermType(term,type){return type===TERM_TYPE_MAP.ARRAY?Array.isArray(term)&&term.length>0:type===cell_type_CellType.NUMBER?(0,esm_typeof.A)(term)===type||!isNaN(Number(term)):(0,esm_typeof.A)(term)===type}},{key:"isValidTermWithArrayType",value:function isValidTermWithArrayType(term,predicate,modifier,filterColumn){var data=filterColumn.data,array_type=data.array_type,array_data=data.array_data;return array_type===cell_type_CellType.SINGLE_SELECT?this.isValidTerm(term,predicate,modifier,{type:cell_type_CellType.MULTIPLE_SELECT,data:array_data}):COLLABORATOR_COLUMN_TYPES.includes(array_type)?this.isValidTerm(term,predicate,modifier,{type:cell_type_CellType.COLLABORATOR}):this.isValidTerm(term,predicate,modifier,{type:array_type,data:array_data})}},{key:"isValidColumnType",value:function isValidColumnType(filterColumn){var columnType=filterColumn.type,data=filterColumn.data;if(formula_FORMULA_COLUMN_TYPES_MAP[columnType]||columnType===cell_type_CellType.LINK){if(!data)return!1;var result_type=data.result_type,array_type=data.array_type;return result_type===formula_FORMULA_RESULT_TYPE.ARRAY?this.isValidColumnType({type:array_type}):this.isValidColumnType({type:result_type})}return FILTER_COLUMN_OPTIONS.hasOwnProperty(columnType)}},{key:"isValidSelectedOptions",value:function isValidSelectedOptions(selectedOptionIds,options){var validSelectedOptions=options.filter(function(option){return selectedOptionIds.includes(option.id)});return selectedOptionIds.length===validSelectedOptions.length}}]),ValidateFilter}();function core_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function core_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?core_ownKeys(Object(source),!0).forEach(function(key){(0,defineProperty.default)(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):core_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}var EXACT_DATE_TERM_MODIFIER_TYPES=[filter_modifier_FILTER_TERM_MODIFIER_TYPE.TODAY,filter_modifier_FILTER_TERM_MODIFIER_TYPE.TOMORROW,filter_modifier_FILTER_TERM_MODIFIER_TYPE.YESTERDAY,filter_modifier_FILTER_TERM_MODIFIER_TYPE.ONE_WEEK_AGO,filter_modifier_FILTER_TERM_MODIFIER_TYPE.ONE_WEEK_FROM_NOW,filter_modifier_FILTER_TERM_MODIFIER_TYPE.ONE_MONTH_AGO,filter_modifier_FILTER_TERM_MODIFIER_TYPE.ONE_MONTH_FROM_NOW,filter_modifier_FILTER_TERM_MODIFIER_TYPE.NUMBER_OF_DAYS_AGO,filter_modifier_FILTER_TERM_MODIFIER_TYPE.NUMBER_OF_DAYS_FROM_NOW,filter_modifier_FILTER_TERM_MODIFIER_TYPE.EXACT_DATE],core_otherDate=function otherDate1(filterTermModifier,filterTerm){var today=new Date,year=today.getFullYear(),month=today.getMonth(),day=today.getDate(),days=[31,28,31,30,31,30,31,31,30,31,30,31];switch(days[1]=year%4==0&&(year%100!=0||year%400==0)?29:28,filterTermModifier){case filter_modifier_FILTER_TERM_MODIFIER_TYPE.TODAY:return new Date(year,month,day,0,0,0);case filter_modifier_FILTER_TERM_MODIFIER_TYPE.TOMORROW:return new Date(year,month,day+1);case filter_modifier_FILTER_TERM_MODIFIER_TYPE.YESTERDAY:return new Date(year,month,day-1);case filter_modifier_FILTER_TERM_MODIFIER_TYPE.ONE_WEEK_AGO:return new Date(year,month,day-7);case filter_modifier_FILTER_TERM_MODIFIER_TYPE.ONE_WEEK_FROM_NOW:return new Date(year,month,day+7);case filter_modifier_FILTER_TERM_MODIFIER_TYPE.ONE_MONTH_AGO:var pastMonth=month-1,monthDaysIndex=0===month?11:pastMonth;return new Date(year,pastMonth,day>days[monthDaysIndex]?days[monthDaysIndex]:day);case filter_modifier_FILTER_TERM_MODIFIER_TYPE.ONE_MONTH_FROM_NOW:var nextMonth=month+1,_monthDaysIndex=11===month?0:nextMonth;return new Date(year,nextMonth,day>days[_monthDaysIndex]?days[_monthDaysIndex]:day);case filter_modifier_FILTER_TERM_MODIFIER_TYPE.NUMBER_OF_DAYS_AGO:return new Date(year,month,day-Number(filterTerm));case filter_modifier_FILTER_TERM_MODIFIER_TYPE.NUMBER_OF_DAYS_FROM_NOW:return new Date(year,month,day+Number(filterTerm));case filter_modifier_FILTER_TERM_MODIFIER_TYPE.EXACT_DATE:return new Date(filterTerm);case filter_modifier_FILTER_TERM_MODIFIER_TYPE.THE_PAST_WEEK:var weekDay=0!==today.getDay()?today.getDay():7;return{startDate:new Date(year,month,day-weekDay-6),endDate:new Date(year,month,day-weekDay)};case filter_modifier_FILTER_TERM_MODIFIER_TYPE.THIS_WEEK:var _weekDay=0!==today.getDay()?today.getDay():7;return{startDate:new Date(year,month,day-_weekDay+1),endDate:new Date(year,month,day-_weekDay+7)};case filter_modifier_FILTER_TERM_MODIFIER_TYPE.THE_NEXT_WEEK:var _weekDay2=0!==today.getDay()?today.getDay():7;return{startDate:new Date(year,month,day-_weekDay2+8),endDate:new Date(year,month,day-_weekDay2+14)};case filter_modifier_FILTER_TERM_MODIFIER_TYPE.THE_PAST_MONTH:var _pastMonth=month-1;return{startDate:new Date(year,_pastMonth,1),endDate:new Date(year,_pastMonth,days[0===month?11:_pastMonth])};case filter_modifier_FILTER_TERM_MODIFIER_TYPE.THIS_MONTH:return{startDate:new Date(year,month,1),endDate:new Date(year,month,days[month])};case filter_modifier_FILTER_TERM_MODIFIER_TYPE.THE_NEXT_MONTH:var _nextMonth=month+1;return{startDate:new Date(year,_nextMonth,1),endDate:new Date(year,_nextMonth,11===month?days[0]:days[_nextMonth])};case filter_modifier_FILTER_TERM_MODIFIER_TYPE.THE_PAST_YEAR:var pastYear=year-1;return{startDate:new Date(pastYear,0,1),endDate:new Date(pastYear,11,31)};case filter_modifier_FILTER_TERM_MODIFIER_TYPE.THIS_YEAR:return{startDate:new Date(year,0,1),endDate:new Date(year,11,31)};case filter_modifier_FILTER_TERM_MODIFIER_TYPE.THE_NEXT_YEAR:var nextYear=year+1;return{startDate:new Date(nextYear,0,1),endDate:new Date(nextYear,11,31)};case filter_modifier_FILTER_TERM_MODIFIER_TYPE.THE_NEXT_NUMBERS_OF_DAYS:return{startDate:new Date(year,month,day+1,0,0,0),endDate:new Date(year,month,day+Number(filterTerm))};case filter_modifier_FILTER_TERM_MODIFIER_TYPE.THE_PAST_NUMBERS_OF_DAYS:return{startDate:new Date(year,month,day-Number(filterTerm)),endDate:new Date(year,month,day,0,0,0)};default:return{}}},getFormattedFilterOtherDate=function getFormattedFilterOtherDate(filterTermModifier,filterTerm){var _otherDate=core_otherDate(filterTermModifier,filterTerm);if(EXACT_DATE_TERM_MODIFIER_TYPES.includes(filterTermModifier))return date_DateUtils.format(_otherDate);var startDate=_otherDate.startDate,endDate=_otherDate.endDate;return{startDate:startDate?date_DateUtils.format(startDate):"",endDate:endDate?date_DateUtils.format(endDate):""}},getFormattedFilter=function getFormattedFilter(filter,column){var filter_term=filter.filter_term,filter_term_modifier=filter.filter_term_modifier,columnType=column.type,columnData=column.data,formattedFilter=filter;switch(columnType){case cell_type_CellType.FORMULA:case cell_type_CellType.LINK_FORMULA:var result_type=columnData.result_type,array_type=columnData.array_type,array_data=columnData.array_data;if(result_type===formula_FORMULA_RESULT_TYPE.DATE&&(formattedFilter.other_date=getFormattedFilterOtherDate(filter_term_modifier,filter_term)),result_type===formula_FORMULA_RESULT_TYPE.ARRAY){var linkedColumn={type:array_type,data:array_data};formattedFilter.linked_column=linkedColumn,formattedFilter=getFormattedFilter(formattedFilter,linkedColumn)}break;case cell_type_CellType.DATE:case cell_type_CellType.CTIME:case cell_type_CellType.MTIME:formattedFilter.other_date=getFormattedFilterOtherDate(filter_term_modifier,filter_term);break;case cell_type_CellType.LINK:var _ref=columnData||{},_linkedColumn={type:_ref.array_type,data:_ref.array_data},filterColumnData=core_objectSpread(core_objectSpread({},columnData),{},{result_type:formula_FORMULA_RESULT_TYPE.ARRAY}),filterColumn=core_objectSpread(core_objectSpread({},column),{},{data:filterColumnData});formattedFilter.column=filterColumn,formattedFilter.linked_column=_linkedColumn,formattedFilter=getFormattedFilter(formattedFilter,_linkedColumn)}return formattedFilter},getFormattedFilters=function getFormattedFilters(filters){return filters.map(function(filter){return getFormattedFilter(filter,filter.column)})},core_deleteInvalidFilter=function deleteInvalidFilter(filters,columns){var cleanFilters=[];return filters.forEach(function(filter){var column_key=filter.column_key,error_message=filter_ValidateFilter.validate(filter,columns).error_message;if(error_message){if(error_message!==filter_FILTER_ERR_MSG.INCOMPLETE_FILTER)throw Error(error_message)}else{var filterColumn=columns.find(function(column){return column.key===column_key}),newFilter=core_objectSpread(core_objectSpread({},filter),{},{column:filterColumn});cleanFilters.push(newFilter)}}),cleanFilters};function sort_core_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function sort_core_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?sort_core_ownKeys(Object(source),!0).forEach(function(key){(0,defineProperty.default)(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):sort_core_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}var isValidSort=function isValidSort(sort,columns){var sortByColumn=sort&&columns.find(function(column){return column.key===sort.column_key});return!!sortByColumn&&sort_SORT_COLUMN_OPTIONS.includes(sortByColumn.type)},getMultipleIndexesOrderbyOptions=function getMultipleIndexesOrderbyOptions(optionIds,option_id_index_map){var indexArr=[];return optionIds.forEach(function(optionId){var index=option_id_index_map[optionId];index>-1&&indexArr.push(index)}),indexArr.sort()},deleteInvalidSort=function deleteInvalidSort(sorts,columns){var validSorts=Array.isArray(sorts)&&Array.isArray(columns)?sorts.filter(function(sort){return isValidSort(sort,columns)}):[],cleanSorts=[];return validSorts.forEach(function(sort){var column_key=sort.column_key,sortColumn=columns.find(function(column){return column.key===column_key}),columnType=sortColumn.type,newSort=sort_core_objectSpread(sort_core_objectSpread({},sort),{},{column:sortColumn});switch(columnType){case cell_type_CellType.SINGLE_SELECT:case cell_type_CellType.MULTIPLE_SELECT:var options=option_getColumnOptions(sortColumn),option_id_index_map={};options.forEach(function(option,index){option_id_index_map[option.id]=index}),newSort.option_id_index_map=option_id_index_map}cleanSorts.push(newSort)}),cleanSorts},isNumberColumn=function isNumberColumn(column){return getColumnType(column)===cell_type_CellType.NUMBER};function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}}function _nonIterableSpread(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function toConsumableArray_toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread()}var collaboratorFilter=function collaboratorFilter(emails,_ref,username){var filter_predicate=_ref.filter_predicate,filter_term=_ref.filter_term;switch(filter_predicate){case filter_predicate_FILTER_PREDICATE_TYPE.HAS_ANY_OF:return!Array.isArray(filter_term)||0===filter_term.length||Array.isArray(emails)&&filter_term.some(function(email){return emails.includes(email)});case filter_predicate_FILTER_PREDICATE_TYPE.HAS_ALL_OF:return!Array.isArray(filter_term)||0===filter_term.length||Array.isArray(emails)&&filter_term.every(function(email){return emails.includes(email)});case filter_predicate_FILTER_PREDICATE_TYPE.HAS_NONE_OF:if(!Array.isArray(filter_term)||0===filter_term.length||!Array.isArray(emails)||0===emails.length)return!0;return filter_term.every(function(email){return 0>emails.indexOf(email)});case filter_predicate_FILTER_PREDICATE_TYPE.IS_EXACTLY:if(!Array.isArray(filter_term)||0===filter_term.length)return!0;if(!Array.isArray(emails)||0===emails.length)return!1;var nonReptCellValue=toConsumableArray_toConsumableArray(new Set(emails));if(nonReptCellValue.length!==filter_term.length)return!1;return filter_term.every(function(email){return nonReptCellValue.includes(email)});case filter_predicate_FILTER_PREDICATE_TYPE.EMPTY:return!Array.isArray(emails)||0===emails.length;case filter_predicate_FILTER_PREDICATE_TYPE.NOT_EMPTY:return Array.isArray(emails)&&emails.length>0;case filter_predicate_FILTER_PREDICATE_TYPE.INCLUDE_ME:return Array.isArray(emails)&&emails.indexOf(username)>-1;default:return!1}},creatorFilter=function creatorFilter(email,_ref,username){var filter_predicate=_ref.filter_predicate,filter_term=_ref.filter_term;switch(filter_predicate){case filter_predicate_FILTER_PREDICATE_TYPE.CONTAINS:if(!Array.isArray(filter_term))return!0;if(!email)return!1;return filter_term.findIndex(function(filterEmail){return filterEmail===email})>-1;case filter_predicate_FILTER_PREDICATE_TYPE.NOT_CONTAIN:if(!Array.isArray(filter_term)||!email)return!0;return 0>filter_term.findIndex(function(filterEmail){return filterEmail===email});case filter_predicate_FILTER_PREDICATE_TYPE.INCLUDE_ME:return email===username;case filter_predicate_FILTER_PREDICATE_TYPE.IS:if(!filter_term)return!0;if(!Array.isArray(filter_term))return email===filter_term;return email===filter_term[0];case filter_predicate_FILTER_PREDICATE_TYPE.IS_NOT:if(!filter_term)return!0;if(!Array.isArray(filter_term))return email!==filter_term;return email!==filter_term[0];default:return!1}},dateFilter=function dateFilter(date,_ref){var filter_predicate=_ref.filter_predicate,filter_term_modifier=_ref.filter_term_modifier,filter_term=_ref.filter_term,other_date=_ref.other_date;switch(filter_predicate){case filter_predicate_FILTER_PREDICATE_TYPE.IS:return filter_term_modifier===filter_modifier_FILTER_TERM_MODIFIER_TYPE.EXACT_DATE&&!filter_term||date_DateUtils.format(date)===other_date;case filter_predicate_FILTER_PREDICATE_TYPE.IS_WITHIN:if(filter_term_modifier===filter_modifier_FILTER_TERM_MODIFIER_TYPE.EXACT_DATE&&!filter_term)return!0;if(!date)return!1;var startDate=other_date.startDate,endDate=other_date.endDate,currentDate=date_DateUtils.format(date);return currentDate>=startDate&&currentDate<=endDate;case filter_predicate_FILTER_PREDICATE_TYPE.IS_BEFORE:if(filter_term_modifier===filter_modifier_FILTER_TERM_MODIFIER_TYPE.EXACT_DATE&&!filter_term)return!0;if(!date||!date_DateUtils.getValidDate(date))return!1;return date_DateUtils.format(date)<other_date;case filter_predicate_FILTER_PREDICATE_TYPE.IS_AFTER:if(filter_term_modifier===filter_modifier_FILTER_TERM_MODIFIER_TYPE.EXACT_DATE&&!filter_term)return!0;if(!date||!date_DateUtils.getValidDate(date))return!1;return date_DateUtils.format(date)>other_date;case filter_predicate_FILTER_PREDICATE_TYPE.IS_ON_OR_BEFORE:if(filter_term_modifier===filter_modifier_FILTER_TERM_MODIFIER_TYPE.EXACT_DATE&&!filter_term)return!0;if(!date||!date_DateUtils.getValidDate(date))return!1;return date_DateUtils.format(date)<=other_date;case filter_predicate_FILTER_PREDICATE_TYPE.IS_ON_OR_AFTER:if(filter_term_modifier===filter_modifier_FILTER_TERM_MODIFIER_TYPE.EXACT_DATE&&!filter_term)return!0;if(!date||!date_DateUtils.getValidDate(date))return!1;return date_DateUtils.format(date)>=other_date;case filter_predicate_FILTER_PREDICATE_TYPE.IS_NOT:if(filter_term_modifier===filter_modifier_FILTER_TERM_MODIFIER_TYPE.EXACT_DATE&&!filter_term)return!0;if(!date||!date_DateUtils.getValidDate(date))return!1;return date_DateUtils.format(date)!==other_date;case filter_predicate_FILTER_PREDICATE_TYPE.EMPTY:return!(date&&date_DateUtils.getValidDate(date));case filter_predicate_FILTER_PREDICATE_TYPE.NOT_EMPTY:return!!(date&&date_DateUtils.getValidDate(date));default:return!1}},digitalSignFilter=function digitalSignFilter(digitalSignature,_ref){switch(_ref.filter_predicate){case filter_predicate_FILTER_PREDICATE_TYPE.EMPTY:if(!digitalSignature)return!0;return!digitalSignature.username||!digitalSignature.sign_time||!digitalSignature.sign_image_url;case filter_predicate_FILTER_PREDICATE_TYPE.NOT_EMPTY:if(!digitalSignature)return!1;return!!(digitalSignature.username&&digitalSignature.sign_time&&digitalSignature.sign_image_url);default:return!1}},fileFilter=function fileFilter(files,_ref){switch(_ref.filter_predicate){case filter_predicate_FILTER_PREDICATE_TYPE.EMPTY:return!(files&&files.length>0);case filter_predicate_FILTER_PREDICATE_TYPE.NOT_EMPTY:return!!(files&&files.length>0);default:return!1}},numberFilter=function numberFilter(number,_ref){var filter_predicate=_ref.filter_predicate,filter_term=_ref.filter_term;switch(filter_predicate){case filter_predicate_FILTER_PREDICATE_TYPE.EQUAL:if(!filter_term&&0!==filter_term)return!0;if(!number&&0!==number)return!1;return isNumberEqual(filter_term,number);case filter_predicate_FILTER_PREDICATE_TYPE.NOT_EQUAL:if(!filter_term&&0!==filter_term||!number&&0!==number)return!0;return!isNumberEqual(filter_term,number);case filter_predicate_FILTER_PREDICATE_TYPE.LESS:if(!filter_term&&0!==filter_term)return!0;if(!number&&0!==number||isNumberEqual(number,filter_term))return!1;return number<filter_term;case filter_predicate_FILTER_PREDICATE_TYPE.GREATER:if(!filter_term&&0!==filter_term)return!0;if(!number&&0!==number||isNumberEqual(number,filter_term))return!1;return number>filter_term;case filter_predicate_FILTER_PREDICATE_TYPE.LESS_OR_EQUAL:if(!filter_term&&0!==filter_term)return!0;if(!number&&0!==number)return!1;if(isNumberEqual(number,filter_term))return!0;return number<filter_term;case filter_predicate_FILTER_PREDICATE_TYPE.GREATER_OR_EQUAL:if(!filter_term&&0!==filter_term)return!0;if(!number&&0!==number)return!1;return isNumberEqual(number,filter_term)||number>filter_term;case filter_predicate_FILTER_PREDICATE_TYPE.EMPTY:if(0===number)return!1;return!number||"number"!=typeof number;case filter_predicate_FILTER_PREDICATE_TYPE.NOT_EMPTY:if(0===number)return!0;return!!(number&&"number"==typeof number);default:return!1}},checkboxFilter=function checkboxFilter(checked,_ref){return(checked||!1)===(_ref.filter_term||!1)},textFilter=function textFilter(text,_ref,userId){var filter_predicate=_ref.filter_predicate,filter_term=_ref.filter_term;switch(filter_predicate){case filter_predicate_FILTER_PREDICATE_TYPE.CONTAINS:if(!filter_term)return!0;if(!text)return!1;return text.toString().toLowerCase().indexOf(filter_term.toLowerCase())>-1;case filter_predicate_FILTER_PREDICATE_TYPE.NOT_CONTAIN:if(!filter_term||!text)return!0;return 0>text.toString().toLowerCase().indexOf(filter_term.toLowerCase());case filter_predicate_FILTER_PREDICATE_TYPE.IS:return!filter_term||text===filter_term;case filter_predicate_FILTER_PREDICATE_TYPE.IS_NOT:return!filter_term||text!==filter_term;case filter_predicate_FILTER_PREDICATE_TYPE.EMPTY:return!text;case filter_predicate_FILTER_PREDICATE_TYPE.NOT_EMPTY:return!!text;case filter_predicate_FILTER_PREDICATE_TYPE.IS_CURRENT_USER_ID:if(!userId)return!1;return text===userId;default:return!1}},multipleSelectFilter=function multipleSelectFilter(optionIds,_ref){var filter_predicate=_ref.filter_predicate,filter_term=_ref.filter_term;switch(filter_predicate){case filter_predicate_FILTER_PREDICATE_TYPE.HAS_ANY_OF:return 0===filter_term.length||Array.isArray(optionIds)&&optionIds.some(function(optionId){return filter_term.includes(optionId)});case filter_predicate_FILTER_PREDICATE_TYPE.HAS_ALL_OF:return 0===filter_term.length||Array.isArray(optionIds)&&filter_term.every(function(optionId){return optionIds.includes(optionId)});case filter_predicate_FILTER_PREDICATE_TYPE.HAS_NONE_OF:if(0===filter_term.length||!Array.isArray(optionIds)||0===optionIds.length)return!0;return filter_term.every(function(optionId){return 0>optionIds.indexOf(optionId)});case filter_predicate_FILTER_PREDICATE_TYPE.IS_EXACTLY:if(0===filter_term.length)return!0;if(!Array.isArray(optionIds))return!1;var uniqueArr=function uniqueArr(arr){return toConsumableArray_toConsumableArray(new Set(arr)).sort()};return uniqueArr(optionIds).toString()===uniqueArr(filter_term).toString();case filter_predicate_FILTER_PREDICATE_TYPE.EMPTY:return!Array.isArray(optionIds)||0===optionIds.length;case filter_predicate_FILTER_PREDICATE_TYPE.NOT_EMPTY:return Array.isArray(optionIds)&&optionIds.length>0;default:return!1}},TRUE_VALUE=[!0,"true"],filterByArrayType=function filterByArrayType(array,filter,_ref){var column,username=_ref.username,userId=_ref.userId,column1=filter.column,linked_column=filter.linked_column,filter_predicate=filter.filter_predicate;if(Array.isArray(array)){if(filter_predicate===filter_predicate_FILTER_PREDICATE_TYPE.EMPTY)return 0===array.length;if(filter_predicate===filter_predicate_FILTER_PREDICATE_TYPE.NOT_EMPTY)return array.length>0}if(!linked_column)return textFilter("",filter,userId);var linkedColumnType=linked_column.type;if(linkedColumnType===cell_type_CellType.BOOL||linkedColumnType===cell_type_CellType.CHECKBOX){var normalizedArray=array;return Array.isArray(array)&&(normalizedArray=array[0]),checkboxFilter(normalizedArray=TRUE_VALUE.includes(normalizedArray),filter)}if(linkedColumnType===cell_type_CellType.SINGLE_SELECT){var _normalizedArray=array;return array&&!Array.isArray(array)&&(_normalizedArray=[array]),multipleSelectFilter(_normalizedArray,filter)}if(linkedColumnType===cell_type_CellType.MULTIPLE_SELECT)return multipleSelectFilter(array,filter);if(column={type:linkedColumnType},column_NUMERIC_COLUMNS_TYPES.includes(getColumnType(column))){var _normalizedArray2=array;if(Array.isArray(array)){var cellValueLength=array.length;0===cellValueLength?_normalizedArray2="":1===cellValueLength&&(_normalizedArray2=array[0])}return numberFilter(_normalizedArray2,filter)}if(column_DATE_COLUMN_OPTIONS.includes(linkedColumnType)){var newCellValue=array;return Array.isArray(array)&&(newCellValue=String(array)),dateFilter(newCellValue,filter)}return COLLABORATOR_COLUMN_TYPES.includes(linkedColumnType)?collaboratorFilter(array,filter,username):textFilter(cell_value_getFormulaDisplayString(array,column1.data)||"",filter,userId)},formulaFilter=function formulaFilter(computedValue,filter,_ref){var username=_ref.username,userId=_ref.userId,data=filter.column.data;switch((data||{}).result_type){case formula_FORMULA_RESULT_TYPE.NUMBER:return numberFilter(computedValue,filter);case formula_FORMULA_RESULT_TYPE.DATE:return dateFilter(computedValue,filter);case formula_FORMULA_RESULT_TYPE.BOOL:var normalizedCellValue=computedValue;return"true"===computedValue?normalizedCellValue=!0:"false"===computedValue&&(normalizedCellValue=!1),checkboxFilter(normalizedCellValue,filter);case formula_FORMULA_RESULT_TYPE.ARRAY:return filterByArrayType(computedValue,filter,{username:username,userId:userId});default:return textFilter(cell_value_getFormulaDisplayString(computedValue,data)||"",filter,userId)}},geolocationFilter=function geolocationFilter(location,_ref){var filter_predicate=_ref.filter_predicate,filter_term=_ref.filter_term,geolocation=geolocation_getGeolocationDisplayString(location,_ref.column.data);switch(filter_predicate){case filter_predicate_FILTER_PREDICATE_TYPE.CONTAINS:if(!filter_term)return!0;if(!geolocation)return!1;return geolocation.toString().toLowerCase().indexOf(filter_term.toLowerCase())>-1;case filter_predicate_FILTER_PREDICATE_TYPE.NOT_CONTAIN:if(!filter_term||!geolocation)return!0;return 0>geolocation.toString().toLowerCase().indexOf(filter_term.toLowerCase());case filter_predicate_FILTER_PREDICATE_TYPE.IS:return!filter_term||geolocation===filter_term;case filter_predicate_FILTER_PREDICATE_TYPE.IS_NOT:return!filter_term||geolocation!==filter_term;case filter_predicate_FILTER_PREDICATE_TYPE.EMPTY:return!geolocation;case filter_predicate_FILTER_PREDICATE_TYPE.NOT_EMPTY:return!!geolocation;default:return!1}},isEmptyObject=function isEmptyObject(obj){var name;for(name in obj)return!1;return!0},longTextFilter=function longTextFilter(value,_ref){var text,filter_predicate=_ref.filter_predicate;switch(text="string"==typeof value?value.trim():"object"===(0,esm_typeof.A)(value)?isEmptyObject(value)?null:"string"==typeof value.text?value.text.trim():null:null,filter_predicate){case filter_predicate_FILTER_PREDICATE_TYPE.EMPTY:return!text;case filter_predicate_FILTER_PREDICATE_TYPE.NOT_EMPTY:return!!text;default:return!1}},singleSelectFilter=function singleSelectFilter(optionId,_ref){var filter_predicate=_ref.filter_predicate,filter_term=_ref.filter_term;switch(filter_predicate){case filter_predicate_FILTER_PREDICATE_TYPE.IS:return!filter_term||optionId===filter_term;case filter_predicate_FILTER_PREDICATE_TYPE.IS_NOT:return!filter_term||optionId!==filter_term;case filter_predicate_FILTER_PREDICATE_TYPE.IS_ANY_OF:return 0===filter_term.length||filter_term.includes(optionId);case filter_predicate_FILTER_PREDICATE_TYPE.IS_NONE_OF:return 0===filter_term.length||0>filter_term.indexOf(optionId);case filter_predicate_FILTER_PREDICATE_TYPE.EMPTY:return!optionId;case filter_predicate_FILTER_PREDICATE_TYPE.NOT_EMPTY:return!!optionId;default:return!1}},isCurrentUserDepartment=function isCurrentUserDepartment(id,userDepartmentIdsMap){var currentUserDepartmentIds=userDepartmentIdsMap&&userDepartmentIdsMap.current_user_department_ids;return!!Array.isArray(currentUserDepartmentIds)&&currentUserDepartmentIds.includes(id)},isCurrentUserDepartmentAndSub=function isCurrentUserDepartmentAndSub(id,userDepartmentIdsMap){var currentUserDepartmentAndSubIds=userDepartmentIdsMap&&userDepartmentIdsMap.current_user_department_and_sub_ids;return!!Array.isArray(currentUserDepartmentAndSubIds)&&currentUserDepartmentAndSubIds.includes(id)},isSpecificDepartment=function isSpecificDepartment(departmentId,filterTerm){return"number"==typeof departmentId&&filterTerm.includes(departmentId)},departmentSingleSelectFilter=function departmentSingleSelectFilter(departmentId,_ref,userDepartmentIdsMap){var filter_predicate=_ref.filter_predicate,filter_term=_ref.filter_term;switch(filter_predicate){case filter_predicate_FILTER_PREDICATE_TYPE.IS:if(!filter_term)return!0;if(filter_term===column_DEPARTMENT_SELECT_RANGE_MAP.CURRENT_USER_DEPARTMENT)return isCurrentUserDepartment(departmentId,userDepartmentIdsMap);if(filter_term===column_DEPARTMENT_SELECT_RANGE_MAP.CURRENT_USER_DEPARTMENT_AND_SUB)return isCurrentUserDepartmentAndSub(departmentId,userDepartmentIdsMap);return departmentId===filter_term;case filter_predicate_FILTER_PREDICATE_TYPE.IS_NOT:if(!filter_term)return!0;if(filter_term===column_DEPARTMENT_SELECT_RANGE_MAP.CURRENT_USER_DEPARTMENT)return!isCurrentUserDepartment(departmentId,userDepartmentIdsMap);if(filter_term===column_DEPARTMENT_SELECT_RANGE_MAP.CURRENT_USER_DEPARTMENT_AND_SUB)return!isCurrentUserDepartmentAndSub(departmentId,userDepartmentIdsMap);return departmentId!==filter_term;case filter_predicate_FILTER_PREDICATE_TYPE.IS_ANY_OF:if(0===filter_term.length)return!0;if(filter_term.includes(column_DEPARTMENT_SELECT_RANGE_MAP.CURRENT_USER_DEPARTMENT_AND_SUB))return isCurrentUserDepartmentAndSub(departmentId,userDepartmentIdsMap)||isSpecificDepartment(departmentId,filter_term);if(filter_term.includes(column_DEPARTMENT_SELECT_RANGE_MAP.CURRENT_USER_DEPARTMENT))return isCurrentUserDepartment(departmentId,userDepartmentIdsMap)||isSpecificDepartment(departmentId,filter_term);return isSpecificDepartment(departmentId,filter_term);case filter_predicate_FILTER_PREDICATE_TYPE.IS_NONE_OF:if(0===filter_term.length)return!0;if(filter_term.includes(column_DEPARTMENT_SELECT_RANGE_MAP.CURRENT_USER_DEPARTMENT_AND_SUB))return!isCurrentUserDepartmentAndSub(departmentId,userDepartmentIdsMap)&&!isSpecificDepartment(departmentId,filter_term);if(filter_term.includes(column_DEPARTMENT_SELECT_RANGE_MAP.CURRENT_USER_DEPARTMENT))return!isCurrentUserDepartment(departmentId,userDepartmentIdsMap)&&!isSpecificDepartment(departmentId,filter_term);return!isSpecificDepartment(departmentId,filter_term);case filter_predicate_FILTER_PREDICATE_TYPE.EMPTY:return!departmentId||"number"!=typeof departmentId;case filter_predicate_FILTER_PREDICATE_TYPE.NOT_EMPTY:return!!(departmentId&&"number"==typeof departmentId);default:return!1}},getFilterResult=function getFilterResult(row,filter,_ref){var _ref1,formulaRow=_ref.formulaRow,username=_ref.username,userId=_ref.userId,userDepartmentIdsMap=_ref.userDepartmentIdsMap,column_key=filter.column_key,column=filter.column,cellValue=row[column_key];switch(column.type){case cell_type_CellType.CHECKBOX:return checkboxFilter(cellValue,filter);case cell_type_CellType.SINGLE_SELECT:return singleSelectFilter(cellValue,filter);case cell_type_CellType.MULTIPLE_SELECT:return multipleSelectFilter(cellValue,filter);case cell_type_CellType.DEPARTMENT_SINGLE_SELECT:return departmentSingleSelectFilter(cellValue,filter,userDepartmentIdsMap);case cell_type_CellType.DURATION:case cell_type_CellType.NUMBER:case cell_type_CellType.RATE:return numberFilter(cellValue,filter);case cell_type_CellType.DATE:return dateFilter(cellValue,filter);case cell_type_CellType.CTIME:case cell_type_CellType.MTIME:return dateFilter(cellValue=date_DateUtils.format(cellValue,column_DATE_FORMAT_MAP.YYYY_MM_DD_HH_MM_SS),filter);case cell_type_CellType.COLLABORATOR:return collaboratorFilter(cellValue,filter,username);case cell_type_CellType.LONG_TEXT:return longTextFilter(cellValue,filter);case cell_type_CellType.TEXT:case cell_type_CellType.AUTO_NUMBER:case cell_type_CellType.EMAIL:case cell_type_CellType.URL:return textFilter(cellValue,filter,userId);case cell_type_CellType.IMAGE:case cell_type_CellType.FILE:return fileFilter(cellValue,filter);case cell_type_CellType.LAST_MODIFIER:case cell_type_CellType.CREATOR:return creatorFilter(cellValue,filter,username);case cell_type_CellType.GEOLOCATION:return geolocationFilter(cellValue,filter);case cell_type_CellType.FORMULA:case cell_type_CellType.LINK_FORMULA:return formulaFilter(cellValue=formulaRow[column_key],filter,{username:username,userId:userId});case cell_type_CellType.LINK:return filterByArrayType(cellValue=Array.isArray(cellValue=formulaRow[column_key])?cellValue.map(function(linked){return linked.display_value}):null,filter,{username:(_ref1={username:username,userId:userId}).username,userId:_ref1.userId});case cell_type_CellType.DIGITAL_SIGN:return digitalSignFilter(cellValue,filter);default:return!1}},filterRow=function filterRow(row,filterConjunction,filters){var _ref2=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},_ref2$formulaRow=_ref2.formulaRow,formulaRow=void 0===_ref2$formulaRow?{}:_ref2$formulaRow,_ref2$username=_ref2.username,username=void 0===_ref2$username?"":_ref2$username,userId=_ref2.userId,_ref2$userDepartmentI=_ref2.userDepartmentIdsMap,userDepartmentIdsMap=void 0===_ref2$userDepartmentI?{}:_ref2$userDepartmentI;return filterConjunction===FILTER_CONJUNCTION_TYPE.AND?filters.every(function(filter){return getFilterResult(row,filter,{formulaRow:formulaRow,username:username,userId:userId,userDepartmentIdsMap:userDepartmentIdsMap})}):filterConjunction===FILTER_CONJUNCTION_TYPE.OR&&filters.some(function(filter){return getFilterResult(row,filter,{formulaRow:formulaRow,username:username,userId:userId,userDepartmentIdsMap:userDepartmentIdsMap})})},filterRows=function filterRows(filterConjunction,filters,rows,_ref3){var formulaRows=_ref3.formulaRows,username=_ref3.username,userId=_ref3.userId,userDepartmentIdsMap=_ref3.userDepartmentIdsMap,filteredRows=[],formattedFilters=getFormattedFilters(filters);return rows.forEach(function(row){var rowId=row._id;filterRow(row,filterConjunction,formattedFilters,{formulaRow:formulaRows&&formulaRows[rowId]?formulaRows[rowId]:{},username:username,userId:userId,userDepartmentIdsMap:userDepartmentIdsMap})&&filteredRows.push(rowId)}),filteredRows},checkbox_sortCheckbox=function sortCheckbox1(leftChecked,rightChecked,sortType){var normalizedCurrChecked=leftChecked?1:-1,normalizedNextChecked=rightChecked?1:-1;return normalizedCurrChecked>normalizedNextChecked?sortType===sort_SORT_TYPE.UP?1:-1:normalizedCurrChecked<normalizedNextChecked?sortType===sort_SORT_TYPE.UP?-1:1:0},REG_STRING_NUMBER_PARTS=/\d+|\D+/g,REG_NUMBER_DIGIT=/\d/,compareString=function compareString(leftString,rightString){if(!leftString&&!rightString)return 0;if(!leftString)return -1;if(!rightString)return 1;if("string"!=typeof leftString||"string"!=typeof rightString)return 0;for(var leftStringPart,rightStringPart,leftStringParts=leftString.match(REG_STRING_NUMBER_PARTS),rightStringParts=rightString.match(REG_STRING_NUMBER_PARTS),len=Math.min(leftStringParts.length,rightStringParts.length),i=0;i<len;i++){if(leftStringPart=leftStringParts[i],rightStringPart=rightStringParts[i],REG_NUMBER_DIGIT.test(leftStringPart)&&REG_NUMBER_DIGIT.test(rightStringPart)){if((leftStringPart=parseInt(leftStringPart))>(rightStringPart=parseInt(rightStringPart)))return 1;if(leftStringPart<rightStringPart)return -1}if(leftStringPart!==rightStringPart)break}return leftString.localeCompare(rightString)},text_sortText=function sortText1(leftText,rightText,sortType){var emptyLeftText=!leftText,emptyRightText=!rightText;return emptyLeftText&&emptyRightText?0:emptyLeftText?1:emptyRightText?-1:rightText===leftText?0:sortType===sort_SORT_TYPE.UP?compareString(leftText,rightText):-1*compareString(leftText,rightText)},collaborator_sortCollaborator=function sortCollaborator1(leftCollaborators,rightCollaborators,sortType){return text_sortText(Array.isArray(leftCollaborators)&&leftCollaborators.length?leftCollaborators.join(""):null,Array.isArray(rightCollaborators)&&rightCollaborators.length?rightCollaborators.join(""):null,sortType)},date_sortDate=function sortDate1(leftDate,rightDate,sortType){var emptyLeftDate=!leftDate,emptyRightDate=!rightDate;return emptyLeftDate&&emptyRightDate?0:emptyLeftDate?1:emptyRightDate?-1:leftDate>rightDate?sortType===sort_SORT_TYPE.UP?1:-1:leftDate<rightDate?sortType===sort_SORT_TYPE.UP?-1:1:0},number_sortNumber=function sortNumber1(leftNumber,rightNumber,sortType){var emptyLeftNumber=!leftNumber&&0!==leftNumber,emptyRightNumber=!rightNumber&&0!==rightNumber;return emptyLeftNumber&&emptyRightNumber?0:emptyLeftNumber?1:emptyRightNumber?-1:leftNumber>rightNumber?sortType===sort_SORT_TYPE.UP?1:-1:leftNumber<rightNumber?sortType===sort_SORT_TYPE.UP?-1:1:0},sortByArrayType=function sortByArrayType(leftArray,rightArray,sortType,_ref){var columnData=_ref.columnData,value=_ref.value,array_type=(columnData||{}).array_type;if(column_NUMERIC_COLUMNS_TYPES.includes(array_type)){var leftNumber=leftArray,rightNumber=rightArray;return Array.isArray(leftArray)&&(leftNumber=leftArray[0]),Array.isArray(rightArray)&&(rightNumber=rightArray[0]),number_sortNumber(leftNumber=leftNumber||0===leftNumber?leftNumber:null,rightNumber=rightNumber||0===rightNumber?rightNumber:null,sortType)}if(column_DATE_COLUMN_OPTIONS.includes(array_type))return date_sortDate(Array.isArray(leftArray)?leftArray[0]:leftArray,Array.isArray(rightArray)?rightArray[0]:rightArray,sortType);if(array_type===cell_type_CellType.CHECKBOX||array_type===formula_FORMULA_RESULT_TYPE.BOOL){var leftBool=leftArray,rightBool=rightArray;return Array.isArray(leftArray)&&(leftBool=leftArray[0]),Array.isArray(rightArray)&&(rightBool=rightArray[0]),checkbox_sortCheckbox(leftBool=leftBool||!1,rightBool=rightBool||!1,sortType)}if(array_type===cell_type_CellType.COLLABORATOR){var collaborators=value.collaborators,leftCollaborators=Array.isArray(leftArray)?leftArray:[leftArray],rightCollaborators=Array.isArray(rightArray)?rightArray:[rightArray];return collaborators&&(leftCollaborators=collaborator_getCollaboratorsNames(leftCollaborators,collaborators),rightCollaborators=collaborator_getCollaboratorsNames(rightCollaborators,collaborators)),collaborator_sortCollaborator(leftCollaborators,rightCollaborators,sortType)}return text_sortText(cell_value_getFormulaDisplayString(leftArray,columnData),cell_value_getFormulaDisplayString(rightArray,columnData),sortType)},formula_sortFormula=function sortFormula1(leftComputedValue,rightComputedValue,sortType,_ref){var columnData=_ref.columnData,value=_ref.value,result_type=(columnData||{}).result_type;return sort_NUMBER_SORTER_COLUMN_TYPES.includes(result_type)?number_sortNumber(leftComputedValue||0===leftComputedValue?leftComputedValue-0:null,rightComputedValue||0===rightComputedValue?rightComputedValue-0:null,sortType):column_DATE_COLUMN_OPTIONS.includes(result_type)?date_sortDate(leftComputedValue,rightComputedValue,sortType):result_type===formula_FORMULA_RESULT_TYPE.BOOL?checkbox_sortCheckbox(leftComputedValue||!1,rightComputedValue||!1,sortType):result_type===formula_FORMULA_RESULT_TYPE.ARRAY?sortByArrayType(leftComputedValue,rightComputedValue,sortType,{columnData:columnData,value:value}):text_sortText(cell_value_getFormulaDisplayString(leftComputedValue,columnData),cell_value_getFormulaDisplayString(rightComputedValue,columnData),sortType)},link_sortLink=function sortLink1(leftLinkedCellValues,rightLinkedCellValues,sortType,_ref){var columnData=_ref.columnData,value=_ref.value,emptyLeftLinkedCellValues=!Array.isArray(leftLinkedCellValues)||0===leftLinkedCellValues.length,emptyRightLinkedCellValues=!Array.isArray(rightLinkedCellValues)||0===rightLinkedCellValues.length;return emptyLeftLinkedCellValues&&emptyRightLinkedCellValues?0:emptyLeftLinkedCellValues?1:emptyRightLinkedCellValues?-1:sortByArrayType(leftLinkedCellValues.map(function(linked){return linked.display_value}),rightLinkedCellValues.map(function(linked){return linked.display_value}),sortType,{columnData:columnData,value:value})},multiple_select_sortMultipleSelect=function sortMultipleSelect1(leftOptionIds,rightOptionIds,_ref){var sort_type=_ref.sort_type,option_id_index_map=_ref.option_id_index_map,emptyLeftOptionIds=!leftOptionIds||0===leftOptionIds.length,emptyRightOptionIds=!rightOptionIds||0===rightOptionIds.length;if(emptyLeftOptionIds&&emptyRightOptionIds)return 0;if(emptyLeftOptionIds)return 1;if(emptyRightOptionIds)return -1;var leftOptionIndexes=getMultipleIndexesOrderbyOptions(leftOptionIds,option_id_index_map),rightOptionIndexes=getMultipleIndexesOrderbyOptions(rightOptionIds,option_id_index_map),leftOptionsLen=leftOptionIndexes.length,rightOptionsLen=rightOptionIndexes.length;if(leftOptionsLen===rightOptionsLen&&(0===leftOptionsLen||leftOptionIndexes.join("")===rightOptionIndexes.join("")))return 0;for(var len=Math.min(leftOptionsLen,rightOptionsLen),i=0;i<len;i++){if(leftOptionIndexes[i]>rightOptionIndexes[i])return sort_type===sort_SORT_TYPE.UP?1:-1;if(leftOptionIndexes[i]<rightOptionIndexes[i])return sort_type===sort_SORT_TYPE.UP?-1:1}return leftOptionsLen>rightOptionsLen?sort_type===sort_SORT_TYPE.UP?1:-1:sort_type===sort_SORT_TYPE.UP?-1:1},single_select_sortSingleSelect=function sortSingleSelect1(leftOptionId,rightOptionId,_ref){var sort_type=_ref.sort_type,option_id_index_map=_ref.option_id_index_map,currentOptionIdIndex=option_id_index_map[leftOptionId],nextOptionIdIndex=option_id_index_map[rightOptionId],emptyLeftOptionId=!currentOptionIdIndex&&0!==currentOptionIdIndex,emptyRightOptionId=!nextOptionIdIndex&&0!==nextOptionIdIndex;return emptyLeftOptionId&&emptyRightOptionId?0:emptyLeftOptionId?1:emptyRightOptionId?-1:currentOptionIdIndex>nextOptionIdIndex?sort_type===sort_SORT_TYPE.UP?1:-1:currentOptionIdIndex<nextOptionIdIndex?sort_type===sort_SORT_TYPE.UP?-1:1:0},department_sortDepartment=function sortDepartment1(leftDepartmentId,rightDepartmentId,sortType){var emptyLeftDepartment=!leftDepartmentId&&0!==leftDepartmentId,emptyRightDepartment=!rightDepartmentId&&0!==rightDepartmentId;return emptyLeftDepartment&&emptyRightDepartment?0:emptyLeftDepartment?1:emptyRightDepartment?-1:leftDepartmentId>rightDepartmentId?sortType===sort_SORT_TYPE.DOWN?1:-1:leftDepartmentId<rightDepartmentId?sortType===sort_SORT_TYPE.DOWN?-1:1:0},sortRowsWithMultiSorts=function sortRowsWithMultiSorts(tableRows,sorts,_ref){var _ref$formulaRows=_ref.formulaRows,formulaRows=void 0===_ref$formulaRows?{}:_ref$formulaRows,value=_ref.value;tableRows.sort(function(currentRow,nextRow){var initValue=0;return sorts.forEach(function(sort){var column_key=sort.column_key,sort_type=sort.sort_type,column=sort.column,columnType=column.type,columnData=column.data,currCellVal=currentRow[column_key],nextCellVal=nextRow[column_key];if(column_DATE_COLUMN_OPTIONS.includes(columnType))initValue=initValue||date_sortDate(currCellVal,nextCellVal,sort_type);else if(columnType===cell_type_CellType.SINGLE_SELECT)initValue=initValue||single_select_sortSingleSelect(currCellVal,nextCellVal,sort);else if(columnType===cell_type_CellType.DEPARTMENT_SINGLE_SELECT)initValue=initValue||department_sortDepartment(currCellVal,nextCellVal,sort_type);else if(sort_NUMBER_SORTER_COLUMN_TYPES.includes(columnType))initValue=initValue||number_sortNumber(currCellVal,nextCellVal,sort_type);else if(formula_FORMULA_COLUMN_TYPES_MAP[columnType]){var currentFormulaRow=formulaRows[currentRow._id]||{},nextFormulaRow=formulaRows[nextRow._id]||{};currCellVal=currentFormulaRow[column_key],nextCellVal=nextFormulaRow[column_key],initValue=initValue||formula_sortFormula(currCellVal,nextCellVal,sort_type,{columnData:columnData,value:value})}else if(columnType===cell_type_CellType.COLLABORATOR){var collaborators=value.collaborators,currValidCollaborators=currCellVal,nextValidCollaborators=nextCellVal;collaborators&&(currValidCollaborators=collaborator_getCollaboratorsNames(currCellVal,collaborators),nextValidCollaborators=collaborator_getCollaboratorsNames(nextCellVal,collaborators)),initValue=initValue||collaborator_sortCollaborator(currValidCollaborators,nextValidCollaborators,sort_type)}else if(columnType===cell_type_CellType.CHECKBOX)initValue=initValue||checkbox_sortCheckbox(currCellVal,nextCellVal,sort_type);else if(columnType===cell_type_CellType.MULTIPLE_SELECT)initValue=initValue||multiple_select_sortMultipleSelect(currCellVal,nextCellVal,sort);else if(columnType===cell_type_CellType.LINK){var _currentFormulaRow=formulaRows[currentRow._id]||{},_nextFormulaRow=formulaRows[nextRow._id]||{};currCellVal=_currentFormulaRow[column_key],nextCellVal=_nextFormulaRow[column_key],initValue=initValue||link_sortLink(currCellVal,nextCellVal,sort_type,{columnData:columnData,value:value})}else initValue=initValue||text_sortText(currCellVal,nextCellVal,sort_type)}),initValue})},sortTableRows=function sortTableRows(sorts,rows,columns){var _ref2=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},formulaRows=_ref2.formulaRows,value=_ref2.value;if(!Array.isArray(rows)||0===rows.length)return[];var sortRows=rows.slice(0);return sortRowsWithMultiSorts(sortRows,deleteInvalidSort(sorts,columns),{formulaRows:formulaRows||{},value:value}),sortRows.map(function(row){return row._id})};function group_row_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function group_row_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?group_row_ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):group_row_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}var _getCellValue=function _getCellValue(row,formulaRows,groupby){var column_key=groupby.column_key,column=groupby.column,cellValue=row[column_key],type=column.type;return FORMULA_COLUMN_TYPES_MAP[type]?(formulaRows[row._id]||{})[column_key]:type===CellType.LINK?(formulaRows[row._id]||{})[column_key]||[]:cellValue},_getFormattedCellValue=function _getFormattedCellValue(cellValue,groupby){var column=groupby.column,countType=groupby.count_type,columnType=column.type,columnData=column.data;switch(columnType){case CellType.TEXT:case CellType.URL:case CellType.EMAIL:case CellType.LAST_MODIFIER:case CellType.CREATOR:case CellType.DEPARTMENT_SINGLE_SELECT:return cellValue||null;case CellType.DATE:case CellType.CTIME:case CellType.MTIME:return DateUtils.getDateByGranularity(cellValue,countType)||null;case CellType.NUMBER:case CellType.DURATION:case CellType.RATE:return cellValue||0===cellValue?cellValue:null;case CellType.CHECKBOX:return!!cellValue;case CellType.SINGLE_SELECT:return cellValue||null;case CellType.MULTIPLE_SELECT:case CellType.COLLABORATOR:return Array.isArray(cellValue)?cellValue:[];case CellType.GEOLOCATION:return getGeolocationByGranularity(cellValue,countType);case CellType.FORMULA:case CellType.LINK_FORMULA:var result_type=(columnData||{}).result_type;if(result_type===FORMULA_RESULT_TYPE.NUMBER)return cellValue||0===cellValue?cellValue:null;if(result_type===FORMULA_RESULT_TYPE.DATE)return DateUtils.getDateByGranularity(cellValue,countType)||null;if(result_type===FORMULA_RESULT_TYPE.BOOL)return!!cellValue;if(result_type===FORMULA_RESULT_TYPE.ARRAY){if(isDateColumn(column)&&Array.isArray(cellValue)&&cellValue.length>0)return DateUtils.getDateByGranularity(cellValue[0],countType)||null;return getFormulaDisplayString(cellValue,columnData)||null}return cellValue||null;case CellType.LINK:if(!Array.isArray(cellValue)||0===cellValue.length)return[];return cellValue.map(function(linked){return linked.display_value});default:return null}},_getStrCellValue=function _getStrCellValue(cellValue,columnType){var sCellValue=null;return SINGLE_CELL_VALUE_COLUMN_TYPE_MAP[columnType]?sCellValue="string"==typeof cellValue?cellValue:String(cellValue):MULTIPLE_CELL_VALUE_COLUMN_TYPE_MAP[columnType]&&(sCellValue=_toConsumableArray(cellValue).sort().toString()),sCellValue},_findGroupIndexWithMultipleGroupbys=function _findGroupIndexWithMultipleGroupbys(sCellValue,cellValue2GroupIndexMap,groupsLength){var target=cellValue2GroupIndexMap[sCellValue];return target&&target.index>-1?target.index:(cellValue2GroupIndexMap[sCellValue]={},cellValue2GroupIndexMap[sCellValue].subgroups={},cellValue2GroupIndexMap[sCellValue].index=groupsLength,-1)},getSortedGroups=function getSortedGroups(groups,groupbys,value,level){var _groupbys$level=groupbys[level],column=_groupbys$level.column,sort_type=_groupbys$level.sort_type,collaborators=value.collaborators,columnType=column.type,columnData=column.data,normalizedSortType=sort_type||SORT_TYPE.UP,option_id_index_map={};if(columnType===CellType.SINGLE_SELECT||columnType===CellType.MULTIPLE_SELECT){var options=(columnData||{}).options;Array.isArray(options)&&options.forEach(function(option,index){option_id_index_map[option.id]=index})}if(groups.sort(function(currGroupRow,nextGroupRow){var sortResult,currCellVal=currGroupRow.cell_value,nextCellVal=nextGroupRow.cell_value;if(SORT_COLUMN_OPTIONS.includes(columnType)){if(TEXT_SORTER_COLUMN_TYPES.includes(columnType))sortResult=sortText(currCellVal,nextCellVal,normalizedSortType);else if(NUMBER_SORTER_COLUMN_TYPES.includes(columnType))sortResult=sortNumber(currCellVal,nextCellVal,normalizedSortType);else if(DATE_COLUMN_OPTIONS.includes(columnType))sortResult=sortDate(currCellVal,nextCellVal,normalizedSortType);else if(columnType===CellType.DEPARTMENT_SINGLE_SELECT)sortResult=sortDepartment(currCellVal,nextCellVal,normalizedSortType);else if(columnType===CellType.CHECKBOX)sortResult=sortCheckbox(currCellVal,nextCellVal,normalizedSortType);else if(columnType===CellType.COLLABORATOR){var currCollaborators=currCellVal,nextCollaborators=nextCellVal;collaborators&&(currCollaborators=getCollaboratorsNames(currCollaborators,collaborators),nextCollaborators=getCollaboratorsNames(nextCollaborators,collaborators)),sortResult=sortCollaborator(currCollaborators,nextCollaborators,normalizedSortType)}else columnType===CellType.SINGLE_SELECT?sortResult=sortSingleSelect(currCellVal,nextCellVal,{sort_type:normalizedSortType,option_id_index_map:option_id_index_map}):columnType===CellType.MULTIPLE_SELECT?sortResult=sortMultipleSelect(currCellVal,nextCellVal,{sort_type:normalizedSortType,option_id_index_map:option_id_index_map}):FORMULA_COLUMN_TYPES_MAP[columnType]?sortResult=sortFormula(currGroupRow.original_cell_value,nextGroupRow.original_cell_value,normalizedSortType,{columnData:columnData,value:value}):columnType===CellType.LINK&&(sortResult=sortLink(currGroupRow.original_cell_value,nextGroupRow.original_cell_value,normalizedSortType,{columnData:columnData,value:value}));return sortResult}return""===currCellVal?1:""===nextCellVal?-1:0}),Array.isArray(groups[0].subgroups)&&groups[0].subgroups.length>0){var nextLevel=level+1;groups=groups.map(function(group){var sortedSubgroups=getSortedGroups(group.subgroups,groupbys,value,nextLevel);return group_row_objectSpread(group_row_objectSpread({},group),{},{subgroups:sortedSubgroups})})}return groups},GradientColorUtils=function(){function GradientColorUtils(_ref){var colorType=_ref.colorType,max=_ref.max,min=_ref.min;_classCallCheck(this,GradientColorUtils);var colors=COLOR_GRADATION_OPTIONS[colorType||"color_gradation_1"];this.startColor=this.hexToRgb(colors[0]),this.endColor=this.hexToRgb(colors[4]),this.min=min,this.max=max,this.computeMap={}}return _createClass(GradientColorUtils,[{key:"hexToRgb",value:function hexToRgb(hexCode){var nextHexCode=hexCode.toLowerCase();if(nextHexCode&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(nextHexCode)){if(4===nextHexCode.length){for(var newHexCode="#",i=1;i<4;i+=1)newHexCode+=nextHexCode.slice(i,i+1).concat(nextHexCode.slice(i,i+1));nextHexCode=newHexCode}for(var hexCodeChange=[],_i=1;_i<7;_i+=2)hexCodeChange.push(parseInt("0x".concat(nextHexCode.slice(_i,_i+2))));return"RGB(".concat(hexCodeChange.join(","),")")}return nextHexCode}},{key:"getColorGradation",value:function getColorGradation(color1,color2,value1,value2,value){var rgb1=color1.split(","),r1=parseInt(rgb1[0].split("(")[1]),g1=parseInt(rgb1[1]),b1=parseInt(rgb1[2].split(")")[0]),rgb2=color2.split(","),r2=parseInt(rgb2[0].split("(")[1]),g2=parseInt(rgb2[1]),b2=parseInt(rgb2[2].split(")")[0]);return"rgb(".concat(Math.round(r1-(r1-r2)/(value1-value2)*(value1-value)),", ").concat(Math.round(g1-(g1-g2)/(value1-value2)*(value1-value)),", ").concat(Math.round(b1-(b1-b2)/(value1-value2)*(value1-value)),")")}},{key:"getCellColor",value:function getCellColor(value){if(this.computeMap[value])return this.computeMap[value];if(value==this.min)return this.computeMap[value]?this.computeMap[value]=this.startColor:this.computeMap=(0,defineProperty.default)({},value,this.startColor),this.computeMap[value];if(value==this.max)return this.computeMap[value]?this.computeMap[value]=this.endColor:this.computeMap=(0,defineProperty.default)({},value,this.endColor),this.computeMap[value];if(value>this.min&&value<this.max){var color1=this.startColor,color2=this.endColor,value1=this.min,value2=this.max,color=this.getColorGradation(color1,color2,value1,value2,value);return this.computeMap[value]=color,this.computeMap[value]}return null}}]),GradientColorUtils}(),deep_copy=__webpack_require__("./node_modules/deep-copy/index.js"),deep_copy_default=__webpack_require__.n(deep_copy),row_getRowsByIds=function getRowsByIds(table,rowsIds){return table&&table.id_row_map&&Array.isArray(rowsIds)?rowsIds.map(function(rowId){return table.id_row_map[rowId]}).filter(Boolean):[]},SUPPORT_CHECKING_DUPLICATE_COLUMNS_TYPES=[cell_type_CellType.TEXT,cell_type_CellType.NUMBER,cell_type_CellType.DATE,cell_type_CellType.DURATION,cell_type_CellType.EMAIL,cell_type_CellType.URL,cell_type_CellType.RATE,cell_type_CellType.CHECKBOX,cell_type_CellType.COLLABORATOR,cell_type_CellType.SINGLE_SELECT,cell_type_CellType.MULTIPLE_SELECT,cell_type_CellType.GEOLOCATION,cell_type_CellType.FORMULA,cell_type_CellType.CREATOR,cell_type_CellType.LAST_MODIFIER];function row_color_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}var getOptionIdMap=function getOptionIdMap(options){if(!Array.isArray(options)||0===options.length)return{};var optionsMap={};return options.forEach(function(option){optionsMap[option.id]=!0}),optionsMap},RowColorUtils={getFormattedDuplicateColumns:function getFormattedDuplicateColumns(columns,duplicateColumnKeys,_ref){for(var collaborators=_ref.collaborators,formattedColumns=[],i=0;i<duplicateColumnKeys.length;i++)if("continue"===function _loop(){var key=duplicateColumnKeys[i],currColumn=columns.find(function(column){return column.key===key});if(!currColumn)return"continue";var type=currColumn.type,formattedColumnData=currColumn.data;if(!SUPPORT_CHECKING_DUPLICATE_COLUMNS_TYPES.includes(type))return"continue";if(type===cell_type_CellType.SINGLE_SELECT||type===cell_type_CellType.MULTIPLE_SELECT)formattedColumnData=getOptionIdMap(option_getColumnOptions(currColumn));else if(type===cell_type_CellType.COLLABORATOR){var optionsMap={};Array.isArray(collaborators)&&collaborators.forEach(function(collaborator){optionsMap[collaborator.email]=!0}),formattedColumnData=optionsMap}formattedColumns.push({key:key,type:type,data:formattedColumnData})}())continue;return formattedColumns},getDuplicateRowValue:function getDuplicateRowValue(row,columns,formulaRow){if(!row)return"";var rowValue=columns.map(function(column){var type=column.type,data=column.data,key=column.key,cellValue=row[key];switch(type){case cell_type_CellType.SINGLE_SELECT:return data[cellValue]?cellValue:"";case cell_type_CellType.MULTIPLE_SELECT:case cell_type_CellType.COLLABORATOR:if(!Array.isArray(cellValue)||0===cellValue.length)return"";return cellValue.filter(function(item){return data[item]}).sort().join("");case cell_type_CellType.GEOLOCATION:if(!cellValue)return"";return geolocation_getGeolocationDisplayString(cellValue,data)||"";case cell_type_CellType.NUMBER:if(!cellValue&&0!==cellValue)return"";return cellValue;case cell_type_CellType.FORMULA:if(!formulaRow)return"";return formulaRow[key];default:return cellValue||""}}).join("_seatable_join_key_");return rowValue&&("function"!=typeof"".replaceAll&&(String.prototype.replaceAll=function(s1,s2){return this.replace(RegExp(s1,"gm"),s2)}),rowValue.replaceAll("_seatable_join_key_",""))?rowValue:""}};function column_color_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function column_color_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?column_color_ownKeys(Object(source),!0).forEach(function(key){(0,defineProperty.default)(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):column_color_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}var COMPUTED_COLUMN_TYPES=[cell_type_CellType.LINK,cell_type_CellType.FORMULA,cell_type_CellType.LINK_FORMULA],BY_RULES="by_rules",BY_REPEAT_VALUE="by_repeat_value",isColumnHasColorRules=function isColumnHasColorRules(column){var colorbys=column&&column.colorbys;if(!colorbys)return!1;var type=colorbys.type,colorByRules=colorbys.color_by_rules,rangeSettings=colorbys.range_settings,repeatValueSettings=colorbys.repeat_value_settings;return type===BY_RULES?colorByRules&&Array.isArray(colorByRules)&&colorByRules.length>0:type===BY_REPEAT_VALUE?repeatValueSettings:rangeSettings&&Object.keys(rangeSettings).length>0},isColumnColorRulesValid=function isColumnColorRulesValid(column){var columns=[column],colorbys=column.colorbys,type=colorbys.type,colorByRules=colorbys.color_by_rules;return type===BY_RULES?colorByRules.some(function(rule){var filters=rule.filters;return 0!==filters.length&&filters.some(function(filter){return!filter_ValidateFilter.validate(filter,columns).error_message})}):type===BY_REPEAT_VALUE||"by_numeric_range"===type&&isNumberColumn(column)},getSortedViewRows=function getSortedViewRows(column,view,table,value,_ref){var username=_ref.username,userId=_ref.userId,userDepartmentIdsMap=_ref.userDepartmentIdsMap,filter={column_key:column.key,filter_predicate:"is_not_empty",filter_term:"",column:column},formulaRows=view.formula_rows,filterRowIds=filterRows(FILTER_CONJUNCTION_TYPE.AND,[filter],table.rows,{formulaRows:formulaRows,username:username,userId:userId,userDepartmentIdsMap:userDepartmentIdsMap}),sortedRowIds=sortTableRows([{sort_type:"up",column_key:column.key}],row_getRowsByIds(table,filterRowIds),[column],{formulaRows:formulaRows,value:value});return row_getRowsByIds(table,sortedRowIds)},getCellValue=function getCellValue(row,column,formulaRows){var key=column.key,type=column.type,cellValue=row[key];if(COMPUTED_COLUMN_TYPES.includes(type)){var formulaRow=formulaRows&&formulaRows[row._id]||{};if(cell_type_CellType.LINK===type){var startCellValues=formulaRow[key]&&Array.isArray(formulaRow[key])?formulaRow[key]:[],_ref2$display_value=(startCellValues.length>0?startCellValues[0]:{}).display_value;cellValue=void 0===_ref2$display_value?null:_ref2$display_value}else{var cellValues=formulaRow[key];cellValue=Array.isArray(cellValues)?cellValues[0]:cellValues}}return cellValue},utc=__webpack_require__("./node_modules/dayjs/plugin/utc.js"),utc_default=__webpack_require__.n(utc);dayjs_min_default().extend(utc_default());var textSqlCondition=function textSqlCondition(column,filterItem,userId){var name=column.name,filter_predicate=filterItem.filter_predicate,filter_term=filterItem.filter_term;if(column.type===CellType.TEXT){if(filter_predicate===FILTER_PREDICATE_TYPE.EMPTY)return"`".concat(name,"` = '' or `").concat(name,"` is null");if(filter_predicate===FILTER_PREDICATE_TYPE.NOT_EMPTY)return"`".concat(name,"` <> '' and `").concat(name,"` is not null")}return filter_predicate===FILTER_PREDICATE_TYPE.EMPTY?"`".concat(name,"` is null"):filter_predicate===FILTER_PREDICATE_TYPE.NOT_EMPTY?"`".concat(name,"` is not null"):filter_predicate===FILTER_PREDICATE_TYPE.IS_CURRENT_USER_ID?userId?"`".concat(name,"` = '").concat(userId,"'"):"(`".concat(name,"` IS NULL AND `").concat(name,"` IS NOT NULL)"):filter_term?filter_predicate===FILTER_PREDICATE_TYPE.CONTAINS?"`".concat(name,"` ilike '%").concat(filter_term,"%'"):filter_predicate===FILTER_PREDICATE_TYPE.NOT_CONTAIN?"`".concat(name,"` not ilike '%").concat(filter_term,"%'"):filter_predicate===FILTER_PREDICATE_TYPE.IS?"`".concat(name,"` = '").concat(filter_term,"'"):filter_predicate===FILTER_PREDICATE_TYPE.IS_NOT?"`".concat(name,"` <> '").concat(filter_term,"'"):"":""},numberSqlCondition=function numberSqlCondition(column,filterItem){var name=column.name,filter_predicate=filterItem.filter_predicate,value=filterItem.filter_term;return filter_predicate===FILTER_PREDICATE_TYPE.EMPTY?"`".concat(name,"` is null"):filter_predicate===FILTER_PREDICATE_TYPE.NOT_EMPTY?"`".concat(name,"` is not null"):value||0===value?(value=parseFloat(value),filter_predicate===FILTER_PREDICATE_TYPE.EQUAL)?"`".concat(name,"` = ").concat(value):filter_predicate===FILTER_PREDICATE_TYPE.NOT_EQUAL?"`".concat(name,"` <> ").concat(value):filter_predicate===FILTER_PREDICATE_TYPE.LESS?"`".concat(name,"` < ").concat(value):filter_predicate===FILTER_PREDICATE_TYPE.GREATER?"`".concat(name,"` > ").concat(value):filter_predicate===FILTER_PREDICATE_TYPE.LESS_OR_EQUAL?"`".concat(name,"` <= ").concat(value):filter_predicate===FILTER_PREDICATE_TYPE.GREATER_OR_EQUAL?"`".concat(name,"` >= ").concat(value):"":""},checkboxSqlCondition=function checkboxSqlCondition(column,filterItem){var name=column.name,filter_term=filterItem.filter_term;return filter_term?"`".concat(name,"` = ").concat(filter_term):"`".concat(name,"` = ").concat(filter_term," or `").concat(name,"` is null")},dateSqlCondition=function dateSqlCondition(column,filterItem){var name=column.name,filter_predicate=filterItem.filter_predicate,filter_term=filterItem.filter_term,filter_term_modifier=filterItem.filter_term_modifier,filterLabel=[FILTER_PREDICATE_TYPE.EMPTY,FILTER_PREDICATE_TYPE.NOT_EMPTY];if(0===filter_term.length&&0>filterLabel.indexOf(filter_predicate)&&filter_term_modifier===FILTER_TERM_MODIFIER_TYPE.EXACT_DATE)return"";if(filter_predicate===FILTER_PREDICATE_TYPE.IS){var date=otherDate(filter_term_modifier,filter_term),nextDate=dayjs(date).add(1,"days").format("YYYY-MM-DD"),targetDate=dayjs(date).format("YYYY-MM-DD");return"`".concat(name,"` >= '").concat(targetDate,"' and `").concat(name,"` < '").concat(nextDate,"'")}if(filter_predicate===FILTER_PREDICATE_TYPE.IS_WITHIN){var _otherDate=otherDate(filter_term_modifier,filter_term),startDate=_otherDate.startDate,endDate=_otherDate.endDate;return endDate=dayjs(endDate).format("YYYY-MM-DD"),startDate=dayjs(startDate).format("YYYY-MM-DD"),"`".concat(name,"` >= '").concat(startDate,"' and `").concat(name,"` <= '").concat(endDate,"'")}if(filter_predicate===FILTER_PREDICATE_TYPE.IS_BEFORE){var _targetDate=otherDate(filter_term_modifier,filter_term);return _targetDate=dayjs(_targetDate).format("YYYY-MM-DD"),"`".concat(name,"` < '").concat(_targetDate,"' and `").concat(name,"` is not null")}if(filter_predicate===FILTER_PREDICATE_TYPE.IS_AFTER){var _targetDate2=otherDate(filter_term_modifier,filter_term);return _targetDate2=dayjs(_targetDate2).format("YYYY-MM-DD"),"`".concat(name,"` > '").concat(_targetDate2,"'")}if(filter_predicate===FILTER_PREDICATE_TYPE.IS_ON_OR_BEFORE){var _targetDate3=otherDate(filter_term_modifier,filter_term);return _targetDate3=dayjs(_targetDate3).format("YYYY-MM-DD"),"`".concat(name,"` <= '").concat(_targetDate3,"' and `").concat(name,"` is not null")}if(filter_predicate===FILTER_PREDICATE_TYPE.IS_ON_OR_AFTER){var _targetDate4=otherDate(filter_term_modifier,filter_term);return _targetDate4=dayjs(_targetDate4).format("YYYY-MM-DD"),"`".concat(name,"` >= '").concat(_targetDate4,"' and `").concat(name,"` is not null")}if(filter_predicate===FILTER_PREDICATE_TYPE.IS_NOT){var _targetDate5=otherDate(filter_term_modifier,filter_term),_startDate=dayjs(_targetDate5).subtract(1,"days").format("YYYY-MM-DD"),_endDate=dayjs(_targetDate5).add(1,"days").format("YYYY-MM-DD");return"(`".concat(name,"` >= '").concat(_endDate,"' or `").concat(name,"` <= '").concat(_startDate,"') and `").concat(name,"` is not null")}return filter_predicate===FILTER_PREDICATE_TYPE.EMPTY?"`".concat(name,"` is null"):filter_predicate===FILTER_PREDICATE_TYPE.NOT_EMPTY?"`".concat(name,"` is not null"):""},ctimeSqlCondition=function ctimeSqlCondition(column,filterItem){var name=column.name,filter_predicate=filterItem.filter_predicate,filter_term=filterItem.filter_term,filter_term_modifier=filterItem.filter_term_modifier,filterLabel=[FILTER_PREDICATE_TYPE.EMPTY,FILTER_PREDICATE_TYPE.NOT_EMPTY];if(0===filter_term.length&&0>filterLabel.indexOf(filter_predicate)&&filter_term_modifier===FILTER_TERM_MODIFIER_TYPE.EXACT_DATE)return"";if([FILTER_TERM_MODIFIER_TYPE.NUMBER_OF_DAYS_AGO,FILTER_TERM_MODIFIER_TYPE.NUMBER_OF_DAYS_FROM_NOW,FILTER_TERM_MODIFIER_TYPE.THE_PAST_NUMBERS_OF_DAYS,FILTER_TERM_MODIFIER_TYPE.THE_NEXT_NUMBERS_OF_DAYS].includes(filter_term_modifier)||(filter_term=filter_term?"".concat(filter_term," 00:00:00"):""),filter_predicate===FILTER_PREDICATE_TYPE.IS){var date=otherDate(filter_term_modifier,filter_term),targetDate=dayjs(date).utc().format(),nextDate=dayjs(date).add(1,"day").utc().format();return"`".concat(name,"` >= '").concat(targetDate,"' and `").concat(name,"` < '").concat(nextDate,"'")}if(filter_predicate===FILTER_PREDICATE_TYPE.IS_WITHIN){var _otherDate2=otherDate(filter_term_modifier,filter_term),startDate=_otherDate2.startDate,endDate=_otherDate2.endDate;return startDate=dayjs(startDate).utc().format(),endDate=dayjs(endDate).utc().format(),filter_term_modifier!==FILTER_TERM_MODIFIER_TYPE.THE_PAST_NUMBERS_OF_DAYS&&(endDate=dayjs(endDate).add(24,"hour").utc().format()),"`".concat(name,"` >= '").concat(startDate,"' and `").concat(name,"` <= '").concat(endDate,"'")}if(filter_predicate===FILTER_PREDICATE_TYPE.IS_BEFORE){var _targetDate6=otherDate(filter_term_modifier,filter_term);return _targetDate6=dayjs(_targetDate6).utc().format(),"`".concat(name,"` < '").concat(_targetDate6,"' and `").concat(name,"` is not null")}if(filter_predicate===FILTER_PREDICATE_TYPE.IS_AFTER){var _targetDate7=otherDate(filter_term_modifier,filter_term);return _targetDate7=dayjs(_targetDate7).add(24,"hour").utc().format(),"`".concat(name,"` > '").concat(_targetDate7,"'")}if(filter_predicate===FILTER_PREDICATE_TYPE.IS_ON_OR_BEFORE){var _targetDate8=otherDate(filter_term_modifier,filter_term);return _targetDate8=dayjs(_targetDate8).add(24,"hour").utc().format(),"`".concat(name,"` <= '").concat(_targetDate8,"' and `").concat(name,"` is not null")}if(filter_predicate===FILTER_PREDICATE_TYPE.IS_ON_OR_AFTER){var _targetDate9=otherDate(filter_term_modifier,filter_term);return _targetDate9=dayjs(_targetDate9).utc().format(),"`".concat(name,"` >= '").concat(_targetDate9,"' and `").concat(name,"` is not null")}if(filter_predicate===FILTER_PREDICATE_TYPE.IS_NOT){var _targetDate10=otherDate(filter_term_modifier,filter_term),_startDate2=dayjs(_targetDate10).utc().format(),_endDate2=dayjs(_targetDate10).add(1,"day").utc().format();return"(`".concat(name,"` is null or `").concat(name,"` >= '").concat(_endDate2,"' or `").concat(name,"` <= '").concat(_startDate2,"')")}return filter_predicate===FILTER_PREDICATE_TYPE.EMPTY?"`".concat(name,"` is null"):filter_predicate===FILTER_PREDICATE_TYPE.NOT_EMPTY?"`".concat(name,"` is not null"):""},singleSelectSqlCondition=function singleSelectSqlCondition(column,filterItem){var filter_predicate=filterItem.filter_predicate,filter_term=filterItem.filter_term,name=column.name,data=column.data;if(filter_predicate===FILTER_PREDICATE_TYPE.NOT_EMPTY)return"`".concat(name,"` is not null");if(filter_predicate===FILTER_PREDICATE_TYPE.EMPTY)return"`".concat(name,"` is null");if(!filter_term)return"";var options=data&&data.options;if(!Array.isArray(options)||0===options.length)return"";if(filter_predicate===FILTER_PREDICATE_TYPE.IS){if("string"!=typeof filter_term)return"";var option=options.find(function(item){return item.id===filter_term});return option?"`".concat(name,"` = '").concat(option.name,"'"):""}if(filter_predicate===FILTER_PREDICATE_TYPE.IS_NOT){if("string"!=typeof filter_term)return"";var _option=options.find(function(item){return item.id===filter_term});return _option?"`".concat(name,"` <> '").concat(_option.name,"'"):""}if(filter_predicate===FILTER_PREDICATE_TYPE.IS_ANY_OF){if(!Array.isArray(filter_term)||0===filter_term.length)return"";var selectedOptionsNames=filter_term.map(function(id){var option=options.find(function(item){return item.id===id});return option?"'".concat(option.name,"'"):null}).filter(Boolean);return selectedOptionsNames.length!==filter_term.length?"":"`".concat(name,"` in (").concat(selectedOptionsNames.join(", "),")")}if(filter_predicate===FILTER_PREDICATE_TYPE.IS_NONE_OF){if(!Array.isArray(filter_term)||0===filter_term.length)return"";var _selectedOptionsNames=filter_term.map(function(id){var option=options.find(function(item){return item.id===id});return option?"'".concat(option.name,"'"):null}).filter(Boolean);return _selectedOptionsNames.length!==filter_term.length?"":"`".concat(name,"` not in (").concat(_selectedOptionsNames.join(", "),")")}return""},getSpecificDepartmentIds=function getSpecificDepartmentIds(filter_term,currentUserDepartmentIdsOrSubIds){return[].concat(_toConsumableArray(filter_term.filter(function(id){return"number"==typeof id})),_toConsumableArray(currentUserDepartmentIdsOrSubIds))},departmentSingleSelectSqlCondition=function departmentSingleSelectSqlCondition(column,filterItem,userDepartmentIdsMap){var patchedUserDepartmentIdsMap=PatchUtils.getUserDepartmentIdsMap(userDepartmentIdsMap),filter_predicate=filterItem.filter_predicate,filter_term=filterItem.filter_term,name=column.name;if(filter_predicate===FILTER_PREDICATE_TYPE.NOT_EMPTY)return"`".concat(name,"` is not null");if(filter_predicate===FILTER_PREDICATE_TYPE.EMPTY)return"`".concat(name,"` is null");if(!filter_term||0===filter_term)return"";var currentUserDepartmentIds=patchedUserDepartmentIdsMap&&patchedUserDepartmentIdsMap.current_user_department_ids,currentUserDepartmentAndSubIds=patchedUserDepartmentIdsMap&&patchedUserDepartmentIdsMap.current_user_department_and_sub_ids,isValidCurrentUserDepartmentIds=Array.isArray(currentUserDepartmentIds),isValidCurrentUserDepartmentAndSubIds=Array.isArray(currentUserDepartmentAndSubIds);if(filter_predicate===FILTER_PREDICATE_TYPE.IS)return filter_term===DEPARTMENT_SELECT_RANGE_MAP.CURRENT_USER_DEPARTMENT?isValidCurrentUserDepartmentIds?"`".concat(name,"` in (").concat(currentUserDepartmentIds.join(", "),")"):"":filter_term===DEPARTMENT_SELECT_RANGE_MAP.CURRENT_USER_DEPARTMENT_AND_SUB?isValidCurrentUserDepartmentAndSubIds?"`".concat(name,"` in (").concat(currentUserDepartmentAndSubIds.join(", "),")"):"":"`".concat(name,"` = ").concat(filter_term);if(filter_predicate===FILTER_PREDICATE_TYPE.IS_NOT)return filter_term===DEPARTMENT_SELECT_RANGE_MAP.CURRENT_USER_DEPARTMENT?isValidCurrentUserDepartmentIds?"`".concat(name,"` not in (").concat(currentUserDepartmentIds.join(", "),")"):"":filter_term===DEPARTMENT_SELECT_RANGE_MAP.CURRENT_USER_DEPARTMENT_AND_SUB?isValidCurrentUserDepartmentAndSubIds?"`".concat(name,"` not in (").concat(currentUserDepartmentAndSubIds.join(", "),")"):"":"`".concat(name,"` <> ").concat(filter_term);if(filter_predicate===FILTER_PREDICATE_TYPE.IS_ANY_OF){if(!Array.isArray(filter_term)||0===filter_term.length)return"";if(filter_term.includes(DEPARTMENT_SELECT_RANGE_MAP.CURRENT_USER_DEPARTMENT_AND_SUB)&&isValidCurrentUserDepartmentAndSubIds){var _specificDepartmentIds=getSpecificDepartmentIds(filter_term,currentUserDepartmentAndSubIds);return"`".concat(name,"` in (").concat(_specificDepartmentIds.join(", "),")")}if(filter_term.includes(DEPARTMENT_SELECT_RANGE_MAP.CURRENT_USER_DEPARTMENT)&&isValidCurrentUserDepartmentIds){var _specificDepartmentIds2=getSpecificDepartmentIds(filter_term,currentUserDepartmentIds);return"`".concat(name,"` in (").concat(_specificDepartmentIds2.join(", "),")")}var specificDepartmentIds=getSpecificDepartmentIds(filter_term,[]);return"`".concat(name,"` in (").concat(specificDepartmentIds.join(", "),")")}if(filter_predicate===FILTER_PREDICATE_TYPE.IS_NONE_OF){if(!Array.isArray(filter_term)||0===filter_term.length)return"";if(filter_term.includes(DEPARTMENT_SELECT_RANGE_MAP.CURRENT_USER_DEPARTMENT_AND_SUB)&&isValidCurrentUserDepartmentAndSubIds){var _specificDepartmentIds3=getSpecificDepartmentIds(filter_term,currentUserDepartmentAndSubIds);return"`".concat(name,"` not in (").concat(_specificDepartmentIds3.join(", "),")")}if(filter_term.includes(DEPARTMENT_SELECT_RANGE_MAP.CURRENT_USER_DEPARTMENT)&&isValidCurrentUserDepartmentIds){var _specificDepartmentIds4=getSpecificDepartmentIds(filter_term,currentUserDepartmentIds);return"`".concat(name,"` not in (").concat(_specificDepartmentIds4.join(", "),")")}var _specificDepartmentIds5=getSpecificDepartmentIds(filter_term,[]);return"`".concat(name,"` not in (").concat(_specificDepartmentIds5.join(", "),")")}return""},multipleSelectSqlCondition=function multipleSelectSqlCondition(column,filterItem){var name=column.name,data=column.data,filterPredicate=filterItem.filter_predicate,filterTerm=filterItem.filter_term;if(filterPredicate===FILTER_PREDICATE_TYPE.NOT_EMPTY)return"`".concat(name,"` is not null");if(filterPredicate===FILTER_PREDICATE_TYPE.EMPTY)return"`".concat(name,"` is null");var options=data&&data.options;if(!Array.isArray(options)||0===options.length)return"";var selectedOptionIds=Array.isArray(filterTerm)?filterTerm:[],optionNames=selectedOptionIds.map(function(itemId){var option=options.find(function(item){return item.id===itemId});return option?"'".concat(option.name,"'"):null}).filter(Boolean);return 0===optionNames.length||optionNames.length!==selectedOptionIds.length?"":filterPredicate===FILTER_PREDICATE_TYPE.HAS_ANY_OF?"`".concat(name,"` in (").concat(optionNames.join(", "),")"):filterPredicate===FILTER_PREDICATE_TYPE.HAS_ALL_OF?"`".concat(name,"` has all of (").concat(optionNames.join(", "),")"):filterPredicate===FILTER_PREDICATE_TYPE.HAS_NONE_OF?"`".concat(name,"` has none of (").concat(optionNames.join(", "),")"):filterPredicate===FILTER_PREDICATE_TYPE.IS_EXACTLY?"`".concat(name,"` is exactly (").concat(optionNames.join(", "),")"):""},creatorSqlCondition=function creatorSqlCondition(column,filterItem,username){var filterPredicate=filterItem.filter_predicate,filterTerm=filterItem.filter_term,name=column.name;if(filterPredicate===FILTER_PREDICATE_TYPE.INCLUDE_ME)return username?"`".concat(name,"` = '").concat(username,"'"):"(`".concat(name,"` IS NULL AND `").concat(name,"` IS NOT NULL)");if(filterTerm&&0===filterTerm.length)return"";if(filterPredicate===FILTER_PREDICATE_TYPE.IS)return"`".concat(name,"` = '").concat(filterTerm,"'");if(filterPredicate===FILTER_PREDICATE_TYPE.IS_NOT)return"`".concat(name,"` != '").concat(filterTerm,"'");var selectedCollaborators=filterTerm.map(function(item){return"'".concat(item,"'")});if(filterPredicate===FILTER_PREDICATE_TYPE.CONTAINS)return"`".concat(name,"` in (").concat(selectedCollaborators.join(","),")");if(filterPredicate===FILTER_PREDICATE_TYPE.NOT_CONTAIN){var items=selectedCollaborators.map(function(item){return"`".concat(name,"` != ").concat(item)});return"".concat(items.join(" and "))}return""},collaboratorSqlCondition=function collaboratorSqlCondition(column,filterItem,username){var name=column.name,filterPredicate=filterItem.filter_predicate,selectedCollaborators=filterItem.filter_term.map(function(item){return"'".concat(item,"'")});return 0===selectedCollaborators.length?filterPredicate===FILTER_PREDICATE_TYPE.INCLUDE_ME?username?"`".concat(name,"` in ('").concat(username,"')"):"(`".concat(name,"` IS NULL AND `").concat(name,"` IS NOT NULL)"):filterPredicate===FILTER_PREDICATE_TYPE.NOT_EMPTY?"`".concat(name,"` is not null"):filterPredicate===FILTER_PREDICATE_TYPE.EMPTY?"`".concat(name,"` is null"):"":filterPredicate===FILTER_PREDICATE_TYPE.HAS_ANY_OF?"`".concat(name,"` in (").concat(selectedCollaborators.join(", "),")"):filterPredicate===FILTER_PREDICATE_TYPE.HAS_ALL_OF?"`".concat(name,"` has all of (").concat(selectedCollaborators.join(", "),")"):filterPredicate===FILTER_PREDICATE_TYPE.HAS_NONE_OF?"`".concat(name,"` has none of (").concat(selectedCollaborators.join(", "),")"):filterPredicate===FILTER_PREDICATE_TYPE.IS_EXACTLY?"`".concat(name,"` is exactly (").concat(selectedCollaborators.join(", "),")"):""},fileSqlCondition=function fileSqlCondition(column,filterItem){var filter_predicate=filterItem.filter_predicate,name=column.name;return filter_predicate===FILTER_PREDICATE_TYPE.NOT_EMPTY?"`".concat(name,"` is not null"):filter_predicate===FILTER_PREDICATE_TYPE.EMPTY?"`".concat(name,"` is null"):""},longtextSqlCondition=function longtextSqlCondition(column,filterItem){var filter_predicate=filterItem.filter_predicate,name=column.name;return filter_predicate===FILTER_PREDICATE_TYPE.NOT_EMPTY?"`".concat(name,"` is not null"):filter_predicate===FILTER_PREDICATE_TYPE.EMPTY?"`".concat(name,"` is null"):""},arrayColumnCondition=function arrayColumnCondition(column,filterItem){var name=column.name,filter_predicate=filterItem.filter_predicate;if(filter_predicate===FILTER_PREDICATE_TYPE.EMPTY)return"`".concat(name,"` is null");if(filter_predicate===FILTER_PREDICATE_TYPE.NOT_EMPTY)return"`".concat(name,"` is not null");var _ref=column.data||{},array_type=_ref.array_type,array_data=_ref.array_data;if(!array_type)return"";var linkedColumn={name:column.name,type:array_type,data:array_data};return array_type===FORMULA_RESULT_TYPE.STRING?textSqlCondition({name:column.name,type:CellType.TEXT},filterItem):array_type===FORMULA_RESULT_TYPE.BOOL?checkboxSqlCondition({name:column.name,type:CellType.CHECKBOX},filterItem):array_type===CellType.SINGLE_SELECT?multipleSelectSqlCondition(linkedColumn,filterItem):[CellType.CREATOR,CellType.LAST_MODIFIER].includes(array_type)?collaboratorSqlCondition(linkedColumn,filterItem):filter_condition_getSqlConditionByFilter(linkedColumn,filterItem)},formulaSqlCondition=function formulaSqlCondition(column,filterItem){var result_type=(column.data||{}).result_type;return result_type===FORMULA_RESULT_TYPE.STRING?textSqlCondition({name:column.name,type:CellType.TEXT},filterItem):result_type===FORMULA_RESULT_TYPE.BOOL?checkboxSqlCondition(column,filterItem):result_type===FORMULA_RESULT_TYPE.DATE?dateSqlCondition(column,filterItem):result_type===FORMULA_RESULT_TYPE.NUMBER?numberSqlCondition(column,filterItem):result_type===FORMULA_RESULT_TYPE.ARRAY?arrayColumnCondition(column,filterItem):""},filter_condition_getSqlConditionByFilter=function getSqlConditionByFilter(column,filterItem,username,userId,userDepartmentIdsMap){var patchedUsername=PatchUtils.getUsername(username),patchedUserId=PatchUtils.getUserId(userId),patchedUserDepartmentIdsMap=PatchUtils.getUserDepartmentIdsMap(userDepartmentIdsMap),type=column.type;return type===CellType.TEXT||type===CellType.AUTO_NUMBER||type===CellType.EMAIL||type===CellType.GEOLOCATION||type===CellType.URL?textSqlCondition(column,filterItem,patchedUserId):type===CellType.DURATION||type===CellType.NUMBER||type===CellType.RATE?numberSqlCondition(column,filterItem):type===CellType.CHECKBOX?checkboxSqlCondition(column,filterItem):type===CellType.DATE?dateSqlCondition(column,filterItem):type===CellType.CTIME||type===CellType.MTIME?ctimeSqlCondition(column,filterItem):type===CellType.SINGLE_SELECT?singleSelectSqlCondition(column,filterItem):type===CellType.DEPARTMENT_SINGLE_SELECT?departmentSingleSelectSqlCondition(column,filterItem,patchedUserDepartmentIdsMap):type===CellType.MULTIPLE_SELECT?multipleSelectSqlCondition(column,filterItem):type===CellType.LAST_MODIFIER||type===CellType.CREATOR?creatorSqlCondition(column,filterItem,patchedUsername):type===CellType.COLLABORATOR?collaboratorSqlCondition(column,filterItem,patchedUsername):type===CellType.IMAGE||type===CellType.FILE||type===CellType.DIGITAL_SIGN?fileSqlCondition(column,filterItem):type===CellType.LONG_TEXT?longtextSqlCondition(column,filterItem):type===CellType.LINK?arrayColumnCondition(column,filterItem):type===CellType.FORMULA||type===CellType.LINK_FORMULA?formulaSqlCondition(column,filterItem):""};function search_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return search_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return search_arrayLikeToArray(o,minLen)}}function search_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}dayjs_min_default().extend(utc_default())}}]);